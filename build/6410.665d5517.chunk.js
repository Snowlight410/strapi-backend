(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[6410],{98374:(O,v,e)=>{"use strict";e.d(v,{F:()=>g});var t=e(27279),s=e(75307),n=e(61020),m=e(40464);const g=(o={},p={})=>{const{id:l="",...i}=o,{get:r}=(0,s.kY)(),{locale:d}=(0,n.Z)(),E=(0,s.Xe)(d,{sensitivity:"base"}),{data:c,error:u,isError:a,isLoading:h,refetch:T}=(0,m.useQuery)(["roles",l,i],async()=>{const{data:C}=await r(`/admin/roles/${l??""}`,{params:i});return C},p);return{roles:t.useMemo(()=>{let C=[];return c&&(Array.isArray(c.data)?C=c.data:C=[c.data]),[...C].sort((A,I)=>E.compare(A.name,I.name))},[c,E]),error:u,isError:a,isLoading:h,refetch:T}}},18450:(O,v,e)=>{"use strict";e.d(v,{G:()=>g});var t=e(27279),s=e(75307),n=e(53532),m=e(40464);function g(){const{get:o}=(0,s.kY)(),{formatAPIError:p}=(0,s.So)(),l=(0,s.lm)(),i=(0,m.useQueries)([{queryKey:["content-manager","components"],async queryFn(){const{data:{data:a}}=await o("/content-manager/components");return a},onError(a){a instanceof n.d7&&l({type:"warning",message:p(a)})}},{queryKey:["content-manager","content-types"],async queryFn(){const{data:{data:a}}=await o("/content-manager/content-types");return a},onError(a){a instanceof n.d7&&l({type:"warning",message:p(a)})}}]),[r,d]=i,E=r.isLoading||d.isLoading,c=t.useMemo(()=>(d?.data??[]).filter(a=>a.kind==="collectionType"&&a.isDisplayed),[d?.data]),u=t.useMemo(()=>(d?.data??[]).filter(a=>a.kind!=="collectionType"&&a.isDisplayed),[d?.data]);return{isLoading:E,components:t.useMemo(()=>r?.data??[],[r?.data]),collectionTypes:c,singleTypes:u}}},79194:(O,v,e)=>{"use strict";e.d(v,{v:()=>n});var t=e(27279),s=e(59461);function n(m,g){const o=(0,s.oR)();(0,t.useEffect)(()=>{o.injectReducer(m,g)},[o,m,g])}},75021:(O,v,e)=>{"use strict";e.d(v,{q:()=>m});var t=e(27279),s=e(75307),n=e(40464);function m({enabled:g}={enabled:!0}){const{get:o}=(0,s.kY)(),{data:p,isError:l,isLoading:i}=(0,n.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:E}}=await o("/admin/license-limit-information");return E},{enabled:g}),r=t.useMemo(()=>p??{},[p]),d=t.useCallback(E=>(r?.features??[]).find(u=>u.name===E)?.options??{},[r?.features]);return{license:r,getFeature:d,isError:l,isLoading:i}}},11984:(O,v,e)=>{"use strict";e.d(v,{CI:()=>o,ES:()=>s,FP:()=>i,Js:()=>d,Lk:()=>c,Mu:()=>l,PP:()=>m,Pz:()=>E,_V:()=>g,fC:()=>n,rI:()=>r,wt:()=>u,xn:()=>p});var t=e(86978);function s(a){return{type:t.bc,payload:{id:a}}}function n({workflow:a}){return{type:t.qZ,payload:a}}function m({workflows:a}){return{type:t.QM,payload:a}}function g(a){return{type:t.x4,payload:{stageId:a}}}function o(a={}){return{type:t.Ot,payload:a}}function p(a,h){return{type:t.Nj,payload:{stageId:a,...h}}}function l(a){return{type:t.k_,payload:a}}function i(a,h){return{type:t.$k,payload:{newIndex:h,oldIndex:a}}}function r(a){return{type:t.VS,payload:a}}function d(){return{type:t.gu}}function E(a){return{type:t.yq,payload:a}}function c(a){return{type:t.zn,payload:a}}function u(a){return{type:t.rg,payload:a}}},43390:(O,v,e)=>{"use strict";e.d(v,{eJ:()=>R,lx:()=>A,h4:()=>M,fC:()=>I});var t=e(27279),s=e(27997),n=e(9941),m=e(74758),g=e(27875),o=e(75307),p=e(76827),l=e(61020),i=e(40784),r=e(86978),d=e(10701),E=e(32370),c=e(10411),u=e(70627),a=e.n(u),h=e(19003);const T=(0,h.default)(d.k)`
  svg path {
    fill: ${({theme:S})=>S.colors.neutral600};
  }
`;function D({name:S}){return t.createElement(d.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,o.Q1)(300)},t.createElement(T,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},t.createElement(c.Z,{width:`${8/16}rem`})),t.createElement(E.Z,{fontWeight:"bold"},S))}D.propTypes={name:a().string.isRequired};function C({type:S,item:P}){switch(S){case r.uL.STAGE:return t.createElement(D,{...P});default:return null}}function A(){return t.createElement(i.r,{renderItem:C})}function I({children:S}){return t.createElement(s.A,null,t.createElement(n.o,{tabIndex:-1},t.createElement(m.D,null,S)))}function R({href:S}){const{formatMessage:P}=(0,l.Z)();return t.createElement(o.rU,{startIcon:t.createElement(p.Z,null),to:S},P({id:"global.back",defaultMessage:"Back"}))}function M({title:S,subtitle:P,navigationAction:x,primaryAction:B}){return t.createElement(t.Fragment,null,t.createElement(o.SL,{name:S}),t.createElement(g.T,{navigationAction:x,primaryAction:B,title:S,subtitle:P}))}},38705:(O,v,e)=>{"use strict";e.d(v,{uT:()=>C,fC:()=>R,Dx:()=>D});var t=e(27279),s=e(32370),n=e(10701),m=e(5938),g=e(15244),o=e(93415),p=e(4987),l=e(37370),i=e(95066),r=e(70627),d=e.n(r),E=e(61020),c=e(19003);const u=e.p+"0cd5f8915b265d5b1856.png",a="limits-title",h="https://strapi.io/pricing-cloud",T="https://strapi.io/contact-sales";function D({children:M}){return t.createElement(s.Z,{variant:"alpha",id:a},M)}D.propTypes={children:d().node.isRequired};function C({children:M}){return t.createElement(s.Z,{variant:"omega"},M)}C.propTypes={children:d().node.isRequired};function A(){const{formatMessage:M}=(0,E.Z)();return t.createElement(n.k,{gap:2,paddingTop:4},t.createElement(l.Q,{variant:"default",isExternal:!0,href:h},M({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),t.createElement(l.Q,{variant:"tertiary",isExternal:!0,href:T},M({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const I=c.default.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:M})=>`-${M.spaces[7]}`};
  margin-top: ${({theme:M})=>`-${M.spaces[7]}`};
  width: 360px;
`;function R({children:M,isOpen:S,onClose:P}){const{formatMessage:x}=(0,E.Z)();return S?t.createElement(m.P,{labelledBy:a},t.createElement(g.f,null,t.createElement(n.k,{gap:2,paddingLeft:7,position:"relative"},t.createElement(n.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},M,t.createElement(A,null)),t.createElement(n.k,{justifyContent:"end",height:"100%",width:"40%"},t.createElement(I,{src:u,"aria-hidden":!0,alt:"",loading:"lazy"}),t.createElement(o.x,{display:"flex",position:"absolute",right:0,top:0},t.createElement(p.h,{icon:t.createElement(i.Z,null),"aria-label":x({id:"global.close",defaultMessage:"Close"}),onClick:P})))))):null}R.defaultProps={isOpen:!1},R.propTypes={children:d().node.isRequired,isOpen:d().bool,onClose:d().func.isRequired}},68997:(O,v,e)=>{"use strict";e.d(v,{U:()=>ne});var t=e(27279),s=e(93415),n=e(10701),m=e(75307),g=e(70627),o=e.n(g),p=e(61020),l=e(59461),i=e(19003),r=e(11984),d=e(32370),E=e(77225);const c=(0,i.default)(E.Z)`
  > circle {
    fill: ${({theme:f})=>f.colors.neutral150};
  }
  > path {
    fill: ${({theme:f})=>f.colors.neutral600};
  }
`,u=(0,i.default)(s.x)`
  border-radius: 26px;

  svg {
    height: ${({theme:f})=>f.spaces[6]};
    width: ${({theme:f})=>f.spaces[6]};

    > path {
      fill: ${({theme:f})=>f.colors.neutral600};
    }
  }

  &:hover {
    color: ${({theme:f})=>f.colors.primary600} !important;
    ${d.Z} {
      color: ${({theme:f})=>f.colors.primary600} !important;
    }

    ${c} {
      > circle {
        fill: ${({theme:f})=>f.colors.primary600};
      }
      > path {
        fill: ${({theme:f})=>f.colors.neutral100};
      }
    }
  }

  &:active {
    ${d.Z} {
      color: ${({theme:f})=>f.colors.primary600};
    }

    ${c} {
      > circle {
        fill: ${({theme:f})=>f.colors.primary600};
      }
      > path {
        fill: ${({theme:f})=>f.colors.neutral100};
      }
    }
  }
`;function a({children:f,...$}){return t.createElement(u,{as:"button",background:"neutral0",border:"neutral150",paddingBottom:3,paddingLeft:4,paddingRight:4,paddingTop:3,shadow:"filterShadow",...$},t.createElement(n.k,{gap:2},t.createElement(c,{"aria-hidden":!0}),t.createElement(d.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral500"},f)))}a.propTypes={children:o().node.isRequired};var h=e(97232),T=e(4987),D=e(10989),C=e(45322),A=e(24920),I=e(34642),R=e(23298),M=e(74577),S=e(12881),P=e(63738),x=e(69933),B=e(81740),G=e(75438),V=e(33039),U=e(78031),K=e(71563),z=e(92241),J=e(21440),w=e(21892),b=e(86978),Q=e(65649),k=e(5318);const _=(0,i.default)(h.ML)`
  padding-left: ${({theme:f})=>f.spaces[7]};
`,q=(0,i.default)(n.k)`
  > * {
    flex-grow: 1;
  }
`,Ee=(0,i.default)(x.sN)`
  color: ${({theme:f})=>f.colors.danger600};
`,ve=(0,i.default)(B.xz)`
  :hover,
  :focus {
    background-color: ${({theme:f})=>f.colors.neutral100};
  }

  > span {
    font-size: 0;
  }
`,ye=(0,i.default)(T.h)`
  align-items: center;
  border-radius: ${({theme:f})=>f.borderRadius};
  display: flex;
  justify-content: center;

  :hover,
  :focus {
    background-color: ${({theme:f})=>f.colors.neutral100};
  }

  svg {
    height: auto;
    width: ${({theme:f})=>f.spaces[3]}};
  }
`,he=(0,k.s)();function Se(){return t.createElement(s.x,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",display:"block",hasRadius:!0,padding:6,shadow:"tableShadow"})}function de({id:f,index:$,canDelete:F,canReorder:se,canUpdate:N,isOpen:re=!1,stagesCount:Y}){const X=y=>`${y+1} of ${Y}`,ee=y=>{te(W({id:"dnd.grab-item",defaultMessage:"{item}, grabbed. Current position in list: {position}. Press up and down arrow to change position, Spacebar to drop, Escape to cancel."},{item:j.value,position:X(y)}))},we=y=>{te(W({id:"dnd.drop-item",defaultMessage:"{item}, dropped. Final position in list: {position}."},{item:j.value,position:X(y)}))},Me=()=>{te(W({id:"dnd.cancel-item",defaultMessage:"{item}, dropped. Re-order cancelled."},{item:j.value}))},Oe=(y,L)=>{te(W({id:"dnd.reorder",defaultMessage:"{item}, moved. New position in list: {position}."},{item:j.value,position:X(y)})),Z((0,r.FP)(L,y))},Ce=()=>{ie(!0)},[ce,te]=t.useState(null),{formatMessage:W}=(0,p.Z)(),{trackUsage:Ae}=(0,m.rS)(),Z=(0,l.I0)(),Re=(0,m.lm)(),[le,De]=t.useState(re),[Pe,ie]=t.useState(!1),[j,ue,We]=(0,K.U$)(`stages.${$}.name`),[ae,ge,Ie]=(0,K.U$)(`stages.${$}.color`),[H,me,xe]=(0,K.U$)(`stages.${$}.permissions`),Le=(0,l.v9)(Q.g$),[{handlerId:ke,isDragging:be,handleKeyDown:Be},$e,Ue,Ne,pe]=(0,J.Y9)(se,{index:$,item:{name:j.value},onGrabItem:ee,onDropItem:we,onMoveItem:Oe,onCancel:Me,type:b.uL.STAGE}),Ke=(0,w.FE)($e,Ue),je=he.map(({hex:y,name:L})=>({value:y,label:W({id:"Settings.review-workflows.stage.color.name",defaultMessage:"{name}"},{name:L}),color:y})),{themeColorName:Fe}=(0,k.k)(ae.value)??{},fe=Le.filter(y=>y.code!=="strapi-super-admin");return t.useEffect(()=>{pe((0,z.rX)(),{captureDraggingState:!1})},[pe,$]),t.createElement(s.x,{ref:Ke},ce&&t.createElement(D.T,{"aria-live":"assertive"},ce),be?t.createElement(Se,null):t.createElement(C.U,{size:"S",variant:"primary",onToggle:()=>{De(!le),le||Ae("willEditStage")},expanded:le,shadow:"tableShadow",error:ue.error??ge?.error??me?.error??!1,hasErrorMessage:!1},t.createElement(A.B,{title:j.value,togglePosition:"left",action:(F||N)&&t.createElement(n.k,null,t.createElement(B.fC,null,t.createElement(ve,{size:"S",endIcon:null,paddingLeft:2,paddingRight:2},t.createElement(G.Z,{"aria-hidden":!0,focusable:!1}),t.createElement(D.T,{as:"span"},W({id:"[tbdb].components.DynamicZone.more-actions",defaultMessage:"More actions"}))),t.createElement(B.VY,{popoverPlacement:"bottom-end",zIndex:2},t.createElement(B.rl,null,N&&t.createElement(x.sN,{onClick:()=>Z((0,r.ES)(f))},W({id:"Settings.review-workflows.stage.delete",defaultMessage:"Duplicate stage"})),F&&t.createElement(Ee,{onClick:()=>Z((0,r._V)(f))},W({id:"Settings.review-workflows.stage.delete",defaultMessage:"Delete"}))))),N&&t.createElement(ye,{background:"transparent",forwardedAs:"div",hasRadius:!0,role:"button",noBorder:!0,tabIndex:0,"data-handler-id":ke,ref:Ne,label:W({id:"Settings.review-workflows.stage.drag",defaultMessage:"Drag"}),onClick:y=>y.stopPropagation(),onKeyDown:Be},t.createElement(V.Z,null)))}),t.createElement(I.v,{padding:6,background:"neutral0",hasRadius:!0},t.createElement(R.r,{gap:4},t.createElement(M.P,{col:6},t.createElement(S.o,{...j,id:j.name,disabled:!N,label:W({id:"Settings.review-workflows.stage.name.label",defaultMessage:"Stage name"}),error:ue.error??!1,onChange:y=>{We.setValue(y.target.value),Z((0,r.xn)(f,{name:y.target.value}))},required:!0})),t.createElement(M.P,{col:6},t.createElement(P.q4,{disabled:!N,error:ge?.error??!1,id:ae.name,required:!0,label:W({id:"content-manager.reviewWorkflows.stage.color",defaultMessage:"Color"}),onChange:y=>{Ie.setValue(y),Z((0,r.xn)(f,{color:y}))},value:ae.value.toUpperCase(),startIcon:t.createElement(n.k,{as:"span",height:2,background:ae.value,borderColor:Fe==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},je.map(({value:y,label:L,color:oe})=>{const{themeColorName:Ze}=(0,k.k)(oe);return t.createElement(P.ag,{value:y,key:y,startIcon:t.createElement(n.k,{as:"span",height:2,background:oe,borderColor:Ze==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2})},L)}))),t.createElement(M.P,{col:6},fe.length===0?t.createElement(m.X0,{description:{id:"Settings.review-workflows.stage.permissions.noPermissions.description",defaultMessage:"You don\u2019t have the permission to see roles"},intlLabel:{id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"},name:H.name}):t.createElement(n.k,{alignItems:"flex-end",gap:3},t.createElement(q,{grow:1},t.createElement(h.NU,{...H,disabled:!N,error:me.error??!1,id:H.name,label:W({id:"Settings.review-workflows.stage.permissions.label",defaultMessage:"Roles that can change this stage"}),onChange:y=>{const L=y.map(oe=>({role:parseInt(oe,10),action:"admin::review-workflows.stage.transition"}));xe.setValue(L),Z((0,r.xn)(f,{permissions:L}))},placeholder:W({id:"Settings.review-workflows.stage.permissions.placeholder",defaultMessage:"Select a role"}),required:!0,value:(H.value??[]).map(y=>`${y.role}`),withTags:!0},[{label:W({id:"Settings.review-workflows.stage.permissions.allRoles.label",defaultMessage:"All roles"}),children:fe.map(y=>({value:`${y.id}`,label:y.name}))}].map(y=>"children"in y?t.createElement(h.Ab,{key:y.label,label:y.label,values:y.children.map(L=>L.value)},y.children.map(L=>t.createElement(_,{key:L.value,value:L.value},L.label))):t.createElement(h.ML,{key:y.value,value:y.value},y.label)))),t.createElement(T.h,{disabled:!N,icon:t.createElement(U.Z,null),label:W({id:"Settings.review-workflows.stage.permissions.apply.label",defaultMessage:"Apply to all stages"}),size:"L",variant:"secondary",onClick:()=>Ce(H.value)})))))),t.createElement(m.QH.Root,{iconRightButton:null,isOpen:Pe,onToggleDialog:()=>ie(!1),onConfirm:()=>{Z((0,r.Mu)({permissions:H.value})),ie(!1),Re({type:"success",message:W({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy.success",defaultMessage:"Applied roles to all other stages of the workflow"})})},variantRightButton:"primary"},t.createElement(m.QH.Body,null,t.createElement(d.Z,{textAlign:"center",variant:"omega"},W({id:"Settings.review-workflows.page.edit.confirm.stages.permissions.copy",defaultMessage:"Roles that can change that stage will be applied to all the other stages."})))))}de.propTypes=o().shape({id:o().number.isRequired,color:o().string.isRequired,canDelete:o().bool.isRequired,canReorder:o().bool.isRequired,canUpdate:o().bool.isRequired,stagesCount:o().number.isRequired}).isRequired;const Te=(0,i.default)(s.x)`
  transform: translateX(-50%);
`;function ne({canDelete:f,canUpdate:$,stages:F}){const{formatMessage:se}=(0,p.Z)(),N=(0,l.I0)(),{trackUsage:re}=(0,m.rS)();return t.createElement(n.k,{direction:"column",gap:6,width:"100%"},t.createElement(s.x,{position:"relative",spacing:4,width:"100%"},t.createElement(Te,{background:"neutral200",height:"100%",left:"50%",position:"absolute",top:"0",width:2,zIndex:1}),t.createElement(n.k,{direction:"column",alignItems:"stretch",gap:6,zIndex:2,position:"relative",as:"ol"},F.map((Y,X)=>{const ee=Y?.id??Y.__temp_key__;return t.createElement(s.x,{key:`stage-${ee}`,as:"li"},t.createElement(de,{id:ee,index:X,isOpen:!Y.id,canDelete:F.length>1&&f,canReorder:F.length>1,canUpdate:$,stagesCount:F.length}))}))),$&&t.createElement(a,{type:"button",onClick:()=>{N((0,r.CI)({name:""})),re("willCreateStage")}},se({id:"Settings.review-workflows.stage.add",defaultMessage:"Add new stage"})))}ne.defaultProps={canDelete:!0,canUpdate:!0,stages:[]},ne.propTypes={canDelete:o().bool,canUpdate:o().bool,stages:o().arrayOf(o().shape({id:o().number,__temp_key__:o().number,name:o().string.isRequired}))}},85230:(O,v,e)=>{"use strict";e.d(v,{Y:()=>D});var t=e(27279),s=e(97232),n=e(32370),m=e(23298),g=e(74577),o=e(12881),p=e(75307),l=e(71563),i=e(70627),r=e.n(i),d=e(61020),E=e(59461),c=e(19003),u=e(11984),a=e(65649);const h=(0,c.default)(s.ML)`
  padding-left: ${({theme:C})=>C.spaces[7]};
`,T=(0,c.default)(n.Z)`
  font-style: italic;
`;function D({canUpdate:C}){const{formatMessage:A,locale:I}=(0,d.Z)(),R=(0,E.I0)(),{collectionTypes:M,singleTypes:S}=(0,E.v9)(a.HK),P=(0,E.v9)(a.DV),x=(0,E.v9)(a.D6),[B,G,V]=(0,l.U$)("name"),[U,K,z]=(0,l.U$)("contentTypes"),J=(0,p.Xe)(I,{sensitivity:"base"});return t.createElement(m.r,{background:"neutral0",hasRadius:!0,gap:4,padding:6,shadow:"tableShadow"},t.createElement(g.P,{col:6},t.createElement(o.o,{...B,id:B.name,disabled:!C,label:A({id:"Settings.review-workflows.workflow.name.label",defaultMessage:"Workflow Name"}),error:G.error??!1,onChange:w=>{R((0,u.rI)({name:w.target.value})),V.setValue(w.target.value)},required:!0})),t.createElement(g.P,{col:6},t.createElement(s.NU,{...U,customizeContent:w=>A({id:"Settings.review-workflows.workflow.contentTypes.displayValue",defaultMessage:"{count} {count, plural, one {content type} other {content types}} selected"},{count:w.length}),disabled:!C,error:K.error??!1,id:U.name,label:A({id:"Settings.review-workflows.workflow.contentTypes.label",defaultMessage:"Associated to"}),onChange:w=>{R((0,u.rI)({contentTypes:w})),z.setValue(w)},placeholder:A({id:"Settings.review-workflows.workflow.contentTypes.placeholder",defaultMessage:"Select"})},[...M.length>0?[{label:A({id:"Settings.review-workflows.workflow.contentTypes.collectionTypes.label",defaultMessage:"Collection Types"}),children:[...M].sort((w,b)=>J.compare(w.info.displayName,b.info.displayName)).map(w=>({label:w.info.displayName,value:w.uid}))}]:[],...S.length>0?[{label:A({id:"Settings.review-workflows.workflow.contentTypes.singleTypes.label",defaultMessage:"Single Types"}),children:[...S].map(w=>({label:w.info.displayName,value:w.uid}))}]:[]].map(w=>"children"in w?t.createElement(s.Ab,{key:w.label,label:w.label,values:w.children.map(b=>b.value.toString())},w.children.map(b=>{const{name:Q}=x.find(k=>(P&&k.id!==P.id||!P)&&k.contentTypes.includes(b.value))??{};return t.createElement(h,{key:b.value,value:b.value},A({id:"Settings.review-workflows.workflow.contentTypes.assigned.notice",defaultMessage:"{label} {name, select, undefined {} other {<i>(assigned to <em>{name}</em> workflow)</i>}}"},{label:b.label,name:Q,em:(...k)=>t.createElement(n.Z,{as:"em",fontWeight:"bold"},k),i:(...k)=>t.createElement(T,null,k)}))})):t.createElement(s.ML,{key:w.value,value:w.value},w.label)))))}D.defaultProps={canUpdate:!0},D.propTypes={canUpdate:r().bool}},86978:(O,v,e)=>{"use strict";e.d(v,{$k:()=>u,Ef:()=>C,FT:()=>T,Nj:()=>E,Ot:()=>r,QM:()=>l,VS:()=>a,_X:()=>A,bc:()=>d,gu:()=>n,k_:()=>c,lv:()=>h,qZ:()=>p,rg:()=>g,sN:()=>s,uL:()=>D,x4:()=>i,yq:()=>m,zn:()=>o});var t=e(97003);const s="settings_review-workflows",n="Settings/Review_Workflows/RESET_WORKFLOW",m="Settings/Review_Workflows/SET_CONTENT_TYPES",g="Settings/Review_Workflows/SET_IS_LOADING",o="Settings/Review_Workflows/SET_ROLES",p="Settings/Review_Workflows/SET_WORKFLOW",l="Settings/Review_Workflows/SET_WORKFLOWS",i="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",r="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",d="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",E="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",c="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",u="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",a="Settings/Review_Workflows/WORKFLOW_UPDATE",h={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},T=t.W.colors.primary600,D={STAGE:"stage"},C="numberOfWorkflows",A="stagesPerWorkflow"},52258:(O,v,e)=>{"use strict";e.d(v,{n:()=>m});var t=e(27279),s=e(75307),n=e(40464);function m(g={}){const{get:o}=(0,s.kY)(),{id:p="",...l}=g,i={populate:"stages"},{data:r,isLoading:d,status:E,refetch:c}=(0,n.useQuery)(["review-workflows","workflows",p],async()=>(await o(`/admin/review-workflows/workflows/${p}`,{params:{...i,...l}})).data),u=t.useMemo(()=>p&&r?.data?[r.data]:Array.isArray(r?.data)?r.data:[],[r?.data,p]);return{meta:t.useMemo(()=>r?.meta??{},[r?.meta]),workflows:u,isLoading:d,status:E,refetch:c}}},3848:(O,v,e)=>{"use strict";e.d(v,{E:()=>n,I:()=>m});var t=e(61815),s=e(86978);const n={serverState:{contentTypes:{collectionTypes:[],singleTypes:[]},roles:[],workflow:null,workflows:[]},clientState:{currentWorkflow:{data:{name:"",contentTypes:[],stages:[],permissions:void 0}},isLoading:!0}};function m(o=n,p){return(0,t.Uy)(o,l=>{const{payload:i}=p;switch(p.type){case s.yq:{l.serverState.contentTypes=i;break}case s.rg:{l.clientState.isLoading=i;break}case s.zn:{l.serverState.roles=i;break}case s.qZ:{const r=i;r&&(l.serverState.workflow=r,l.clientState.currentWorkflow.data={...r,stages:r.stages.map(d=>({...d,color:d?.color??s.FT}))});break}case s.QM:{l.serverState.workflows=i;break}case s.gu:{l.clientState=n.clientState,l.serverState=n.serverState;break}case s.x4:{const{stageId:r}=i,{currentWorkflow:d}=o.clientState;l.clientState.currentWorkflow.data.stages=d.data.stages.filter(E=>(E?.id??E.__temp_key__)!==r);break}case s.Ot:{const{currentWorkflow:r}=o.clientState;r.data||(l.clientState.currentWorkflow.data={stages:[]});const d=g(l.clientState.currentWorkflow.data.stages);l.clientState.currentWorkflow.data.stages.push({...i,color:i?.color??s.FT,__temp_key__:d});break}case s.bc:{const{currentWorkflow:r}=o.clientState,{id:d}=i,E=r.data.stages.findIndex(u=>(u?.id??u?.__temp_key__)===d),c=r.data.stages[E];l.clientState.currentWorkflow.data.stages.splice(E+1,0,{...c,id:void 0,__temp_key__:g(l.clientState.currentWorkflow.data.stages)});break}case s.Nj:{const{currentWorkflow:r}=o.clientState,{stageId:d,...E}=i;l.clientState.currentWorkflow.data.stages=r.data.stages.map(c=>(c.id??c.__temp_key__)===d?{...c,...E}:c);break}case s.k_:{const{currentWorkflow:r}=o.clientState;l.clientState.currentWorkflow.data.stages=r.data.stages.map(d=>({...d,...i}));break}case s.$k:{const{currentWorkflow:{data:{stages:r}}}=o.clientState,{newIndex:d,oldIndex:E}=i;if(d>=0&&d<r.length){const c=r[E];let u=[...r];u.splice(E,1),u.splice(d,0,c),l.clientState.currentWorkflow.data.stages=u}break}case s.VS:{l.clientState.currentWorkflow.data={...l.clientState.currentWorkflow.data,...i};break}default:break}})}const g=(o=[])=>{const p=o.map(l=>l.id??l.__temp_key__);return Math.max(...p,-1)+1}},65649:(O,v,e)=>{"use strict";e.d(v,{CA:()=>E,D6:()=>r,DV:()=>i,HK:()=>p,RR:()=>u,bH:()=>d,g$:()=>l,xU:()=>c});var t=e(57150),s=e(6078),n=e.n(s),m=e(86978),g=e(3848);const o=a=>a[m.sN]??g.E,p=(0,t.P1)(o,({serverState:{contentTypes:a}})=>a),l=(0,t.P1)(o,({serverState:{roles:a}})=>a),i=(0,t.P1)(o,({clientState:{currentWorkflow:a}})=>a.data),r=(0,t.P1)(o,({serverState:{workflows:a}})=>a),d=(0,t.P1)(o,({serverState:a,clientState:{currentWorkflow:h}})=>!n()(a.workflow,h.data)),E=(0,t.P1)(o,({serverState:a,clientState:{currentWorkflow:h}})=>!(a.workflow?.stages??[]).every(T=>!!h.data.stages.find(({id:D})=>D===T.id))),c=(0,t.P1)(o,({clientState:{isLoading:a}})=>a),u=(0,t.P1)(o,({serverState:a})=>a)},5318:(O,v,e)=>{"use strict";e.d(v,{k:()=>n,s:()=>m});var t=e(97003),s=e(86978);function n(g){if(!g)return null;const p=Object.entries(t.W.colors).filter(([,l])=>l.toUpperCase()===g.toUpperCase()).reduce((l,[i])=>(s.lv?.[i]&&(l=i),l),null);return p?{themeColorName:p,name:s.lv[p]}:null}function m(){return Object.entries(s.lv).map(([g,o])=>({hex:t.W.colors[g].toUpperCase(),name:o}))}},66578:(O,v,e)=>{"use strict";e.d(v,{V:()=>m});var t=e(43433),s=e.n(t),n=e(47853);async function m({values:g,formatMessage:o}){const p=n.Ry({contentTypes:n.IX().of(n.Z_()),name:n.Z_().max(255,o({id:"Settings.review-workflows.validation.name.max-length",defaultMessage:"Name can not be longer than 255 characters"})).required(),stages:n.IX().of(n.Ry().shape({name:n.Z_().required(o({id:"Settings.review-workflows.validation.stage.name",defaultMessage:"Name is required"})).max(255,o({id:"Settings.review-workflows.validation.stage.max-length",defaultMessage:"Name can not be longer than 255 characters"})).test("unique-name",o({id:"Settings.review-workflows.validation.stage.duplicate",defaultMessage:"Stage name must be unique"}),function(l){const{options:{context:i}}=this;return i.stages.filter(r=>r.name===l).length===1}),color:n.Z_().required(o({id:"Settings.review-workflows.validation.stage.color",defaultMessage:"Color is required"})).matches(/^#(?:[0-9a-fA-F]{3}){1,2}$/i),permissions:n.IX(n.Ry({role:n.Rx().strict().typeError(o({id:"Settings.review-workflows.validation.stage.permissions.role.number",defaultMessage:"Role must be of type number"})).required,action:n.Z_().required({id:"Settings.review-workflows.validation.stage.permissions.action.required",defaultMessage:"Action is a required argument"})})).strict()})).min(1)});try{return await p.validate(g,{abortEarly:!1,context:g}),!0}catch(l){let i={};return l instanceof n.p8&&l.inner.forEach(r=>{s()(i,r.path,r.message)}),i}}},86961:(O,v,e)=>{var t=e(13578),s=e(27138),n="[object Boolean]";function m(g){return g===!0||g===!1||s(g)&&t(g)==n}O.exports=m},92249:(O,v,e)=>{var t=e(37997);function s(n){return t(n)&&n!=+n}O.exports=s},37997:(O,v,e)=>{var t=e(13578),s=e(27138),n="[object Number]";function m(g){return typeof g=="number"||s(g)&&t(g)==n}O.exports=m},45322:(O,v,e)=>{"use strict";e.d(v,{U:()=>E,y:()=>r});var t=e(74081),s=e(27279),n=e(19003),m=e(39267),g=e(74513),o=e(32370),p=e(10701),l=e(93415);const i=({theme:c,expanded:u,variant:a,disabled:h,error:T})=>T?`1px solid ${c.colors.danger600} !important`:h?`1px solid ${c.colors.neutral150}`:u?`1px solid ${c.colors.primary600}`:a==="primary"?`1px solid ${c.colors.neutral0}`:`1px solid ${c.colors.neutral100}`,r=(0,n.default)(o.Z)``,d=(0,n.default)(l.x)`
  border: ${i};

  &:hover:not([aria-disabled='true']) {
    border: 1px solid ${({theme:c})=>c.colors.primary600};

    ${r} {
      color: ${({theme:c,expanded:u})=>u?void 0:c.colors.primary700};
    }

    ${o.Z} {
      color: ${({theme:c,expanded:u})=>u?void 0:c.colors.primary600};
    }

    & > ${p.k} {
      background: ${({theme:c})=>c.colors.primary100};
    }

    [data-strapi-dropdown='true'] {
      background: ${({theme:c})=>c.colors.primary200};
    }
  }
`,E=({children:c,disabled:u=!1,error:a,expanded:h=!1,hasErrorMessage:T=!0,id:D,onToggle:C,toggle:A,size:I="M",variant:R="primary",shadow:M})=>{const S=(0,g.M)(D),P=s.useMemo(()=>({expanded:h,onToggle:C,toggle:A,id:S,size:I,variant:R,disabled:u}),[u,h,S,C,I,A,R]);return(0,t.jsxs)(m.S.Provider,{value:P,children:[(0,t.jsx)(d,{"data-strapi-expanded":h,disabled:u,"aria-disabled":u,expanded:h,hasRadius:!0,variant:R,error:a,shadow:M,children:c}),a&&T&&(0,t.jsx)(l.x,{paddingTop:1,children:(0,t.jsx)(o.Z,{variant:"pi",textColor:"danger600",children:a})})]})}},34642:(O,v,e)=>{"use strict";e.d(v,{v:()=>m});var t=e(74081),s=e(39267),n=e(93415);const m=({children:g,...o})=>{const{expanded:p,id:l}=(0,s.A)();if(!p)return null;const i=`accordion-content-${l}`,r=`accordion-label-${l}`,d=`accordion-desc-${l}`;return(0,t.jsx)(n.x,{role:"region",id:i,"aria-labelledby":r,"aria-describedby":d,...o,children:g})}},39267:(O,v,e)=>{"use strict";e.d(v,{A:()=>n,S:()=>s});var t=e(27279);const s=(0,t.createContext)({disabled:!1,expanded:!1,id:"",size:"M",variant:"primary"}),n=()=>(0,t.useContext)(s)},24920:(O,v,e)=>{"use strict";e.d(v,{B:()=>c});var t=e(74081),s=e(10411),n=e(19003),m=e(45322),g=e(39267);const o=({expanded:u,disabled:a,variant:h})=>{let T="neutral100";return u?T="primary100":a?T="neutral150":h==="primary"&&(T="neutral0"),T};var p=e(1782),l=e(50703),i=e(10701),r=e(32370);const d=(0,n.default)(p.A)`
  text-align: left;

  // necessary to make the ellipsis prop work on the title
  > span {
    max-width: 100%;
  }

  svg {
    width: ${14/16}rem;
    height: ${14/16}rem;

    path {
      fill: ${({theme:u,expanded:a})=>a?u.colors.primary600:u.colors.neutral500};
    }
  }
`,E=(0,n.default)(i.k)`
  min-height: ${({theme:u,size:a})=>u.sizes.accordions[a]};
  border-radius: ${({theme:u,expanded:a})=>a?`${u.borderRadius} ${u.borderRadius} 0 0`:u.borderRadius};

  &:hover {
    svg {
      path {
        fill: ${({theme:u})=>u.colors.primary600};
      }
    }
  }
`,c=({title:u,description:a,as:h="span",togglePosition:T="right",action:D,...C})=>{const{onToggle:A,toggle:I,expanded:R,id:M,size:S,variant:P,disabled:x}=(0,g.A)(),B=`accordion-content-${M}`,G=`accordion-label-${M}`,V=`accordion-desc-${M}`,U=S==="M"?6:4,K=S==="M"?U:U-2,z=o({expanded:R,disabled:x,variant:P}),w={as:h,fontWeight:S==="S"?"bold":void 0,id:G,textColor:R?"primary600":"neutral700",ellipsis:!0,variant:S==="M"?"delta":void 0},b=R?"primary600":"neutral600",Q=R?"primary200":"neutral200",k=S==="M"?`${32/16}rem`:`${24/16}rem`,_=()=>{x||(I&&!A?(console.warn('Deprecation warning: Usage of "toggle" prop in Accordion component is deprecated. This is discouraged and will be removed in the next major release. Please use "onToggle" instead'),I()):A&&A())},q=(0,t.jsx)(i.k,{justifyContent:"center",borderRadius:"50%",height:k,width:k,transform:R?"rotate(180deg)":void 0,"data-strapi-dropdown":!0,"aria-hidden":!0,as:"span",background:Q,cursor:x?"not-allowed":"pointer",onClick:_,shrink:0,children:(0,t.jsx)(l.J,{as:s.Z,width:S==="M"?`${11/16}rem`:`${8/16}rem`,color:R?"primary600":"neutral600"})});return(0,t.jsx)(E,{paddingBottom:K,paddingLeft:U,paddingRight:U,paddingTop:K,background:z,expanded:R,size:S,justifyContent:"space-between",cursor:x?"not-allowed":"",children:(0,t.jsxs)(i.k,{gap:3,flex:1,maxWidth:"100%",children:[T==="left"&&q,(0,t.jsx)(d,{onClick:_,"aria-disabled":x,"aria-expanded":R,"aria-controls":B,"aria-labelledby":G,"data-strapi-accordion-toggle":!0,expanded:R,type:"button",flex:1,minWidth:0,...C,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.y,{...w,children:u}),a&&(0,t.jsx)(r.Z,{as:"p",id:V,textColor:b,children:a})]})}),T==="right"&&(0,t.jsxs)(i.k,{gap:3,children:[q,D]}),T==="left"&&D]})})}},53532:(O,v,e)=>{"use strict";e.d(v,{d7:()=>n});var t=e(5466);const{Axios:s,AxiosError:n,CanceledError:m,isCancel:g,CancelToken:o,VERSION:p,all:l,Cancel:i,isAxiosError:r,spread:d,toFormData:E,AxiosHeaders:c,HttpStatusCode:u,formToJSON:a,getAdapter:h,mergeConfig:T}=t.default}}]);
