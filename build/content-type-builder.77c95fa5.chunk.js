(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[8880],{71243:(Ee,te,n)=>{"use strict";n.d(te,{Z:()=>Ce});var t=n(27279),ne=n(93415),y=n(75307),k=n(60330),B=n(89677),q=n(67929),N=n(14461),le=n(60069),ae=n(52374),Ne=n(24001),Q=n(16719),W=n(14858),F=n(48809),b=n(6913),X=n(24307),K=n(967),Y=n(26171),v=n(606),I=n(63161),J=n(81907),G=n(70627),H=n.n(G),re=n(19003);const ge={biginteger:k.Z,blocks:B.Z,boolean:q.Z,collectionType:N.Z,component:le.Z,contentType:N.Z,date:ae.Z,datetime:ae.Z,decimal:k.Z,dynamiczone:Ne.Z,email:Q.Z,enum:W.Z,enumeration:W.Z,file:F.Z,files:F.Z,float:k.Z,integer:k.Z,json:b.Z,JSON:b.Z,media:F.Z,number:k.Z,password:X.Z,relation:K.Z,richtext:Y.Z,singleType:v.Z,string:I.Z,text:I.Z,time:ae.Z,timestamp:ae.Z,uid:J.Z},ue=(0,re.default)(ne.x)`
  svg {
    height: 100%;
    width: 100%;
  }
`,Ze=({type:_e,customField:d,...Ve})=>{const Se=(0,y.mZ)();let he=ge[_e];if(d){const{icon:Pe}=Se.get(d);Pe&&(he=Pe)}return ge[_e]?t.createElement(ue,{height:(0,y.Q1)(24),width:(0,y.Q1)(32),shrink:0,...Ve,"aria-hidden":!0},t.createElement(ne.x,{as:he})):null};Ze.defaultProps={customField:null},Ze.propTypes={type:H().string.isRequired,customField:H().string};const Ce=Ze},25237:(Ee,te,n)=>{"use strict";n.d(te,{c:()=>Mt});var t=n(56692),ne=n(79131),y=n(53264),k=n(93454),B=n(76827),q=n(53274),N=n(45684),le=n(7559),ae=n(31654),Ne=n(18334),Q=n(42108),W=n(32721),F=n(67224),b=n(20316),X=n(36974),K=n(8419),Y=n(42190),v=n(3232),I=n(4896),J=n(64386),G=n(59082),H=n(73192),re=n(98430),ge=n(74002),ue=n(35318),Ze=n(70743),Ce=n(38724),_e=n(94187),d=n(70415),Ve=n(8243),Se=n(71267),he=n(61646),Pe=n(92518),w=n(67890),fa=n(95957),kt=n(20184),ya=n(54285),Gt=n(7995),Ht=n(47241),A=n(87532),qt=n(16543),Xt=n(68285),Yt=n(271),Ot=n(98264),Qt=n(89824),Jt=n(89906),wt=n(47278),s=n(66390),Ke=n(57121),en=n(61287),ke=n(84670),tn=n(56074),Zt=n(20302),Dt=n(66351),Ge=n(59453),rt=n(99001),He=n(11618),nn=n(36952),ie=n(53723),an=n(42679),sn=n(64059),on=n(5368),Pt=n(52827),Ea=n(31440),At=n(43582),ha=n(58113),lt=n(47243),Lt=n(91561),rn=n(13389),ct=n(43286),ln=n(27645),dt=n(36730),ut=n(42821),Je=n(50862),cn=n(68077),we=n(88678),va=n(1628),xt=n(74334),dn=n(64510),un=n(1267),mt=n(91682),mn=n(30770),Ma=n(95096),It=n(13789),St=n(26784),pn=n(71387),gn=n(23109),Bt=n(38447),fn=n(83761),yn=n(26244),En=n(64820),hn=n(36938),vn=n(29426),Mn=n(72535),Tn=n(13317),Ta=n(63302),Cn=n(50186),Ca=n(76715),bn=n(48098),Ut=n(70901),Rn=n(54763),et=n(10382),tt=n(60674),pt=n(55353),On=n(94842),Ft=n(27733),Zn=n(86874),gt=n(66721),ft=n(10438),_t=n(39142),Dn=n(80103),Nt=n(89975),yt=n(48577),Pn=n(2426),Et=n(68501),An=n(34389),Wt=n(8152),Ln=n(1072),ht=n(23333),xn=n(36558),vt=n(19395),In=n(4452),Kt=n(52245),Sn=n(27866),Bn=n(804),Un=n(30984);const Mt={alien:t.Z,apps:ne.Z,archive:y.Z,arrowDown:k.Z,arrowLeft:B.Z,arrowRight:q.Z,arrowUp:N.Z,attachment:le.Z,bell:ae.Z,bold:Ne.Z,book:Q.Z,briefcase:W.Z,brush:F.Z,bulletList:b.Z,calendar:X.Z,car:K.Z,cast:Y.Z,chartBubble:v.Z,chartCircle:I.Z,chartPie:J.Z,check:G.Z,clock:H.Z,cloud:re.Z,code:ge.Z,cog:ue.Z,collapse:Ze.Z,command:Ce.Z,connector:_e.Z,crop:d.Z,crown:Ve.Z,cube:Se.Z,cup:he.Z,cursor:Pe.Z,dashboard:w.Z,database:fa.Z,discuss:kt.Z,doctor:ya.Z,earth:Gt.Z,emotionHappy:Ht.Z,emotionUnhappy:A.Z,envelop:qt.Z,exit:Xt.Z,expand:Yt.Z,eye:Ot.Z,feather:Qt.Z,file:Jt.Z,fileError:wt.Z,filePdf:s.Z,filter:Ke.Z,folder:en.Z,gate:ke.Z,gift:tn.Z,globe:Zt.Z,grid:Dt.Z,handHeart:Ge.Z,hashtag:rt.Z,headphone:He.Z,heart:nn.Z,house:ie.Z,information:an.Z,italic:sn.Z,key:on.Z,landscape:Pt.Z,layer:Ea.Z,layout:At.Z,lightbulb:ha.Z,link:lt.Z,lock:Lt.Z,magic:rn.Z,manyToMany:ct.Z,manyToOne:ln.Z,manyWays:dt.Z,medium:ut.Z,message:Je.Z,microphone:cn.Z,monitor:we.Z,moon:va.Z,music:xt.Z,oneToMany:dn.Z,oneToOne:un.Z,oneWay:mt.Z,paint:mn.Z,paintBrush:Ma.Z,paperPlane:It.Z,pencil:St.Z,phone:pn.Z,picture:gn.Z,pin:Bt.Z,pinMap:fn.Z,plane:yn.Z,play:En.Z,plus:hn.Z,priceTag:vn.Z,puzzle:Mn.Z,question:Tn.Z,quote:Ta.Z,repeat:Cn.Z,restaurant:Ca.Z,rocket:bn.Z,rotate:Ut.Z,scissors:Rn.Z,search:et.Z,seed:tt.Z,server:pt.Z,shield:On.Z,shirt:Ft.Z,shoppingCart:Zn.Z,slideshow:gt.Z,stack:ft.Z,star:_t.Z,store:Dn.Z,strikeThrough:Nt.Z,sun:yt.Z,television:Pn.Z,thumbDown:Et.Z,thumbUp:An.Z,train:Wt.Z,twitter:Ln.Z,typhoon:ht.Z,underline:xn.Z,user:vt.Z,volumeMute:In.Z,volumeUp:Kt.Z,walk:Sn.Z,wheelchair:Bn.Z,write:Un.Z}},30248:(Ee,te,n)=>{"use strict";n.d(te,{Z:()=>y});var t=n(27279);const y=(0,t.createContext)()},6356:(Ee,te,n)=>{"use strict";n.d(te,{Z:()=>y});var t=n(27279);const y=(0,t.createContext)()},27523:(Ee,te,n)=>{"use strict";n.d(te,{Z:()=>k});var t=n(27279),ne=n(30248);const k=()=>(0,t.useContext)(ne.Z)},47558:(Ee,te,n)=>{"use strict";n.d(te,{Z:()=>k});var t=n(27279),ne=n(6356);const k=()=>(0,t.useContext)(ne.Z)},87299:(Ee,te,n)=>{"use strict";n.r(te),n.d(te,{default:()=>Ko});var t=n(27279),ne=n(27997),y=n(75307),k=n(364),B=n(61020),q=n(51447),N=n(93415),le=n(1782),ae=n(50703),Ne=n(71877),Q=n(17912),W=n(96220),F=n(20534),b=n(74081),X=n(10411),K=n(19003),Y=n(74513),v=n(10701),I=n(32370);const J=(0,K.default)(N.x)`
  svg {
    height: ${4/16}rem;
    path {
      fill: ${({theme:e})=>e.colors.neutral700};
    }
  }
`,G=K.default.button`
  border: none;
  padding: 0;
  background: transparent;
  display: flex;
  align-items: center;
`,H=K.default.div`
  display: flex;
  align-items: center;
  width: ${12/16}rem;
  transform: rotateX(${({rotated:e})=>e?"0deg":"180deg"});
`,re=({label:e,children:a,id:o})=>{const[r,i]=(0,t.useState)(!0),c=(0,Y.M)(o),l=()=>{i(u=>!u)};return(0,b.jsxs)(N.x,{children:[(0,b.jsx)(J,{paddingLeft:7,paddingTop:2,paddingBottom:2,paddingRight:4,children:(0,b.jsx)(v.k,{justifyContent:"space-between",children:(0,b.jsxs)(G,{onClick:l,"aria-expanded":r,"aria-controls":c,children:[(0,b.jsx)(H,{rotated:r,children:(0,b.jsx)(X.Z,{"aria-hidden":!0})}),(0,b.jsx)(N.x,{paddingLeft:2,children:(0,b.jsx)(I.Z,{as:"span",fontWeight:"semiBold",textColor:"neutral800",children:e})})]})})}),r&&(0,b.jsx)("ul",{id:c,children:t.Children.map(a,(u,f)=>(0,b.jsx)("li",{children:u},f))})]})};var ge=n(49370),ue=n(36938),Ze=n(51943),Ce=n.n(Ze),_e=n(47533),d=n(90635),Ve=n(6078),Se=n.n(Ve),he=n(27523),Pe=n(47558),w=n(72966);const kt=()=>{const{components:e,componentsGroupedByCategory:a,contentTypes:o,isInDevelopmentMode:r,sortedContentTypesList:i,modifiedData:c,initialData:l}=(0,he.Z)(),u=(0,y.lm)(),{trackUsage:f}=(0,y.rS)(),[g,p]=(0,t.useState)(""),{onOpenModalCreateSchema:m,onOpenModalEditCategory:x}=(0,Pe.Z)(),{locale:R}=(0,B.Z)(),{startsWith:T}=(0,y.L0)(R,{sensitivity:"base"}),D=(0,y.Xe)(R,{sensitivity:"base"}),U=!Object.keys(o).some($=>o[$].isTemporary===!0)&&!Object.keys(e).some($=>e[$].isTemporary===!0)&&Se()(c,l),C=()=>{U?(f("willCreateContentType"),m({modalType:"contentType",kind:"collectionType",actionType:"create",forTarget:"contentType"})):_()},L=()=>{U?(f("willCreateSingleType"),m({modalType:"contentType",kind:"singleType",actionType:"create",forTarget:"contentType"})):_()},S=()=>{U?(f("willCreateComponent"),m({modalType:"component",kind:null,actionType:"create",forTarget:"component"})):_()},_=()=>{u({type:"info",message:{id:(0,d.Z)("notification.info.creating.notSaved"),defaultMessage:"Please save your work before creating a new collection type or component"}})},se=Object.entries(a).map(([$,De])=>({name:$,title:$,isEditable:r,onClickEdit(oe,Le){oe.stopPropagation(),U?x(Le.name):_()},links:De.map(oe=>({name:oe.uid,to:`/plugins/${w.Z}/component-categories/${$}/${oe.uid}`,title:oe.schema.displayName})).sort((oe,Le)=>D.compare(oe.title,Le.title))})).sort(($,De)=>D.compare($.title,De.title)),Me=i.filter($=>$.visible);return{menu:[{name:"models",title:{id:`${(0,d.Z)("menu.section.models.name")}`,defaultMessage:"Collection Types"},customLink:r&&{id:`${(0,d.Z)("button.model.create")}`,defaultMessage:"Create new collection type",onClick:C},links:Me.filter($=>$.kind==="collectionType")},{name:"singleTypes",title:{id:`${(0,d.Z)("menu.section.single-types.name")}`,defaultMessage:"Single Types"},customLink:r&&{id:`${(0,d.Z)("button.single-types.create")}`,defaultMessage:"Create new single type",onClick:L},links:Me.filter($=>$.kind==="singleType")},{name:"components",title:{id:`${(0,d.Z)("menu.section.components.name")}`,defaultMessage:"Components"},customLink:r&&{id:`${(0,d.Z)("button.component.create")}`,defaultMessage:"Create a new component",onClick:S},links:se}].map($=>$.links.some(oe=>Array.isArray(oe.links))?{...$,links:$.links.map(oe=>{const Le=oe.links.filter(me=>T(me.title,g));return Le.length===0?null:{...oe,links:Le.sort((me,de)=>D.compare(me.title,de.title))}}).filter(Boolean)}:{...$,links:$.links.filter(oe=>T(oe.title,g)).sort((oe,Le)=>D.compare(oe.title,Le.title))}),searchValue:g,onSearchChange:p}},Gt=()=>{const{menu:e,searchValue:a,onSearchChange:o}=kt(),{formatMessage:r}=(0,B.Z)();return t.createElement(Ne.m,{ariaLabel:r({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"})},t.createElement(Q.p,{searchable:!0,value:a,onClear:()=>o(""),onChange:i=>o(i.target.value),label:r({id:`${(0,d.Z)("plugin.name")}`,defaultMessage:"Content-Types Builder"}),searchLabel:r({id:"global.search",defaultMessage:"Search"})}),t.createElement(W.Z,null,e.map(i=>t.createElement(t.Fragment,{key:i.name},t.createElement(F.D,{label:r({id:i.title.id,defaultMessage:i.title.defaultMessage}),collapsable:!0,badgeLabel:i.links.length.toString()},i.links.map(c=>c.links?t.createElement(re,{key:c.name,label:Ce()(c.title)},c.links.map(l=>t.createElement(ge.E,{as:_e.OL,to:l.to,active:l.active,key:l.name,isSubSectionChild:!0},Ce()(r({id:l.name,defaultMessage:l.title}))))):t.createElement(ge.E,{as:_e.OL,to:c.to,active:c.active,key:c.name},Ce()(r({id:c.name,defaultMessage:c.title}))))),i.customLink&&t.createElement(N.x,{paddingLeft:7},t.createElement(le.A,{onClick:i.customLink.onClick,startIcon:t.createElement(ae.J,{as:ue.Z,width:(0,y.Q1)(8),height:(0,y.Q1)(8)}),marginTop:2},r({id:i.customLink.id,defaultMessage:i.customLink.defaultMessage})))))))};var Ht=n(98934),A=n.n(Ht),qt=n(63799),Xt=n.n(qt),Yt=n(43433),Ot=n.n(Yt),Qt=n(84921),Jt=n.n(Qt),wt=n(70627),s=n.n(wt),Ke=n(59461),en=n(30248),ke=n(12670),tn=n(5938),Zt=n(15244),Dt=n(69878),Ge=n(94098),rt=n(84366),He=n(61908),nn=n(35250),ie=n(48102),an=n(10131),sn=n.n(an),on=n(79146),Pt=n.n(on);const At=e=>e.kind==="collectionType"&&(e.restrictRelationsTo===null||Array.isArray(e.restrictRelationsTo)&&e.restrictRelationsTo.length>0),lt=(e,a)=>e.find(({name:o})=>o===a);var Lt=n(61181);const rn=[{label:"All",children:[{label:"images (JPEG, PNG, GIF, SVG, TIFF, ICO, DVU)",value:"images"},{label:"videos (MPEG, MP4, Quicktime, WMV, AVI, FLV)",value:"videos"},{label:"audios (MP3, WAV, OGG)",value:"audios"},{label:"files (CSV, ZIP, PDF, Excel, JSON, ...)",value:"files"}]}],ct=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,B.Z)(),c=r===null||r.length===0?i({id:"global.none",defaultMessage:"None"}):[...r].sort().map(u=>Ce()(u)).join(", "),l=e.id?i({id:e.id,defaultMessage:e.defaultMessage}):a;return t.createElement(Lt.Q,{id:"select1",label:l,customizeContent:()=>c,onChange:u=>{u.length>0?o({target:{name:a,value:u,type:"allowed-types-select"}}):o({target:{name:a,value:null,type:"allowed-types-select"}})},options:rn,value:r||[]})};ct.defaultProps={value:null},ct.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().object,s().array])};const ln=ct;var dt=n(1099),ut=n(23298),Je=n(74577),cn=n(95687),we=n(71243);const xt=(0,K.default)(N.x)`
  width: 100%;
  height: 100%;
  border: 1px solid ${({theme:e})=>e.colors.neutral200};
  text-align: left;
  &:hover {
    background: ${({theme:e})=>e.colors.primary100};
    border: 1px solid ${({theme:e})=>e.colors.primary200};
  }
`,dn=["blocks"],un=()=>t.createElement(v.k,{grow:1,justifyContent:"flex-end"},t.createElement(v.k,{gap:1,fontSizes:0,hasRadius:!0,background:"alternative100",padding:`${2/16}rem ${4/16}rem`},t.createElement(ae.J,{width:`${10/16}rem`,height:`${10/16}rem`,as:cn.Z,color:"alternative600"}),t.createElement(I.Z,{textColor:"alternative600",variant:"sigma"},"New"))),mt=({type:e})=>{const{formatMessage:a}=(0,B.Z)(),{onClickSelectField:o}=(0,Pe.Z)(),r=()=>{o({attributeType:e,step:e==="component"?"1":null})};return t.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:r},t.createElement(v.k,null,t.createElement(we.Z,{type:e}),t.createElement(N.x,{paddingLeft:4,width:"100%"},t.createElement(v.k,{justifyContent:"space-between"},t.createElement(I.Z,{fontWeight:"bold"},a({id:(0,d.Z)(`attribute.${e}`),defaultMessage:e})),dn.includes(e)&&t.createElement(un,null)),t.createElement(v.k,null,t.createElement(I.Z,{variant:"pi",textColor:"neutral600"},a({id:(0,d.Z)(`attribute.${e}.description`),defaultMessage:"A type for modeling data"}))))))};mt.defaultProps={type:"text"},mt.propTypes={type:s().string};const mn=mt,It=e=>{const a=e%2===1;return{paddingLeft:a?2:0,paddingRight:a?0:2}},St=({attributes:e})=>t.createElement(dt.k,{tagName:"button"},t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:8},e.map((a,o)=>t.createElement(ut.r,{key:o,gap:0},a.map((r,i)=>{const{paddingLeft:c,paddingRight:l}=It(i);return t.createElement(Je.P,{key:r,col:6},t.createElement(N.x,{paddingLeft:c,paddingRight:l,paddingBottom:1,style:{height:"100%"}},t.createElement(mn,{type:r})))})))));St.propTypes={attributes:s().array.isRequired};const pn=St;var gn=n(68412);const Bt=({customFieldUid:e,customField:a})=>{const{type:o,intlLabel:r,intlDescription:i}=a,{formatMessage:c}=(0,B.Z)(),{onClickSelectCustomField:l}=(0,Pe.Z)(),u=()=>{l({attributeType:o,customFieldUid:e})};return t.createElement(xt,{padding:4,as:"button",hasRadius:!0,type:"button",onClick:u},t.createElement(v.k,null,t.createElement(we.Z,{type:o,customField:e}),t.createElement(N.x,{paddingLeft:4},t.createElement(v.k,null,t.createElement(I.Z,{fontWeight:"bold"},c(r))),t.createElement(v.k,null,t.createElement(I.Z,{variant:"pi",textColor:"neutral600"},c(i))))))};Bt.propTypes={customFieldUid:s().string.isRequired,customField:s().shape({type:s().string.isRequired,icon:s().func,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,intlDescription:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired}).isRequired};const fn=Bt;var yn=n(83),En=n(52448),hn=n(29206),vn=n.n(hn);const Mn=(0,K.default)(N.x)`
  background: ${({theme:e})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${e.colors.neutral150} 100%)`};
  opacity: 0.33;
`,Tn=()=>t.createElement(v.k,{wrap:"wrap",gap:4},[...Array(4)].map((e,a)=>t.createElement(Mn,{key:`empty-card-${a}`,height:"138px",width:"375px",hasRadius:!0}))),Cn=()=>{const{formatMessage:e}=(0,B.Z)();return t.createElement(N.x,{position:"relative"},t.createElement(Tn,null),t.createElement(N.x,{position:"absolute",top:6,width:"100%"},t.createElement(v.k,{alignItems:"center",justifyContent:"center",direction:"column"},t.createElement(ae.J,{as:En.Z,color:"",width:"160px",height:"88px"}),t.createElement(N.x,{paddingTop:6,paddingBottom:4},t.createElement(N.x,{textAlign:"center"},t.createElement(I.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.heading"),defaultMessage:"Nothing in here yet."})),t.createElement(N.x,{paddingTop:4},t.createElement(I.Z,{variant:"delta",as:"p",textColor:"neutral600"},e({id:(0,d.Z)("modalForm.empty.sub-heading"),defaultMessage:"Find what you are looking for through a wide range of extensions."}))))),t.createElement(yn.Q,{to:`/marketplace?${vn().stringify({categories:["Custom fields"]})}`,variant:"secondary",startIcon:t.createElement(ue.Z,null)},e({id:(0,d.Z)("modalForm.empty.button"),defaultMessage:"Add custom fields"})))))},bn=()=>{const{formatMessage:e}=(0,B.Z)(),a=(0,y.mZ)(),o=Object.entries(a.getAll());if(!o.length)return t.createElement(Cn,null);const r=o.sort((i,c)=>i[1].name>c[1].name?1:-1);return t.createElement(dt.k,{tagName:"button"},t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:3},t.createElement(ut.r,{gap:0},r.map(([i,c],l)=>{const{paddingLeft:u,paddingRight:f}=It(l);return t.createElement(Je.P,{key:i,col:6,style:{height:"100%"}},t.createElement(N.x,{paddingLeft:u,paddingRight:f,paddingBottom:1,style:{height:"100%"}},t.createElement(fn,{key:i,customFieldUid:i,customField:c})))})),t.createElement(gn.r,{href:"https://docs.strapi.io/developer-docs/latest/development/custom-fields.html",isExternal:!0},e({id:(0,d.Z)("modalForm.tabs.custom.howToLink"),defaultMessage:"How to add custom fields"}))))},Ut=({attributes:e,forTarget:a,kind:o})=>{const{formatMessage:r}=(0,B.Z)(),i=(0,d.Z)("modalForm.tabs.default"),c=(0,d.Z)("modalForm.tabs.custom"),l=a.includes("component")?"component":o,u=(0,d.Z)(`modalForm.sub-header.chooseAttribute.${l}`);return t.createElement(Zt.f,{padding:6},t.createElement(Dt.v,{label:r({id:(0,d.Z)("modalForm.tabs.label"),defaultMessage:"Default and Custom types tabs"}),id:"attribute-type-tabs",variant:"simple"},t.createElement(v.k,{justifyContent:"space-between"},t.createElement(I.Z,{variant:"beta",as:"h2"},r({id:u,defaultMessage:"Select a field"})),t.createElement(Ge.m,null,t.createElement(Ge.O,null,r({id:i,defaultMessage:"Default"})),t.createElement(Ge.O,null,r({id:c,defaultMessage:"Custom"})))),t.createElement(N.x,{paddingBottom:6},t.createElement(rt.i,null)),t.createElement(He.n,null,t.createElement(He.x,null,t.createElement(pn,{attributes:e})),t.createElement(He.x,null,t.createElement(bn,null)))))};Ut.propTypes={attributes:s().array.isRequired,forTarget:s().string.isRequired,kind:s().string.isRequired};const Rn=Ut;var et=n(5627),tt=n(78955);const pt=({intlLabel:e,name:a,options:o,onChange:r,value:i})=>{const{formatMessage:c}=(0,B.Z)(),l=e.id?c({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):a,u=f=>{let g="";f==="true"&&(g=!0),f==="false"&&(g=!1),r({target:{name:a,value:g,type:"select-default-boolean"}})};return t.createElement(et.P,{label:l,id:a,name:a,onChange:u,value:(i===null?"":i).toString()},o.map(({metadatas:{intlLabel:f,disabled:g,hidden:p},key:m,value:x})=>t.createElement(tt.W,{key:m,value:x,disabled:g,hidden:p},f.defaultMessage)))};pt.defaultProps={value:null},pt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().any};const On=pt;var Ft=n(61657);const Zn=(0,K.default)(v.k)`
  position: relative;
  align-items: stretch;

  label {
    border-radius: 4px;
    max-width: 50%;
    cursor: pointer;
    user-select: none;
    flex: 1;
    ${(0,Ft.k3)()}
  }

  input {
    position: absolute;
    opacity: 0;
  }

  .option {
    height: 100%;
    border-radius: 4px;
    border: 1px solid ${({theme:e})=>e.colors.neutral200};
    will-change: transform, opacity;
    background: ${({theme:e})=>e.colors.neutral0};

    .checkmark {
      position: relative;
      display: block;
      will-change: transform;
      background: ${({theme:e})=>e.colors.neutral0};
      width: ${({theme:e})=>e.spaces[5]};
      height: ${({theme:e})=>e.spaces[5]};
      border: solid 1px ${({theme:e})=>e.colors.neutral300};
      border-radius: 50%;

      &:before,
      &:after {
        content: '';
        display: block;
        border-radius: 50%;
        width: ${({theme:e})=>e.spaces[3]};
        height: ${({theme:e})=>e.spaces[3]};
        position: absolute;
        top: 3px;
        left: 3px;
      }

      &:after {
        transform: scale(0);
        transition: inherit;
        will-change: transform;
      }
    }
  }

  .container input:checked ~ div {
    background: ${({theme:e})=>e.colors.primary100};
    ${I.Z} {
      color: ${({theme:e})=>e.colors.primary600};
    }
    border: 1px solid ${({theme:e})=>e.colors.primary200};
    .checkmark {
      border: solid 1px ${({theme:e})=>e.colors.primary600};
      &::after {
        background: ${({theme:e})=>e.colors.primary600};
        transform: scale(1);
      }
    }
  }
`,gt=({intlLabel:e,name:a,onChange:o,radios:r,value:i})=>{const{formatMessage:c}=(0,B.Z)();return t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(I.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",htmlFor:a,as:"label"},c(e)),t.createElement(Zn,{gap:4,alignItems:"stretch"},r.map(l=>t.createElement("label",{htmlFor:l.value.toString(),key:l.value,className:"container"},t.createElement("input",{id:l.value.toString(),name:a,className:"option-input",checked:l.value===i,value:l.value,key:l.value,onChange:o,type:"radio"}),t.createElement(N.x,{className:"option",padding:4},t.createElement(v.k,null,t.createElement(N.x,{paddingRight:4},t.createElement("span",{className:"checkmark"})),t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(I.Z,{fontWeight:"bold"},c(l.title)),t.createElement(I.Z,{variant:"pi",textColor:"neutral600"},c(l.description)))))))))};gt.defaultProps={radios:[]},gt.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,radios:s().arrayOf(s().shape({title:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}),value:s().any.isRequired})),value:s().oneOfType([s().string,s().bool]).isRequired};const ft=gt,_t=({onChange:e,name:a,...o})=>{const r=i=>{const c=i.target.value!=="false";e({target:{name:a,value:c,type:"boolean-radio-group"}})};return t.createElement(ft,{...o,name:a,onChange:r})};_t.propTypes={name:s().string.isRequired,onChange:s().func.isRequired};const Dn=_t;var Nt=n(22572),yt=n(12881),Pn=n(98903);const Et=({error:e,intlLabel:a,modifiedData:o,name:r,onChange:i,value:c})=>{const{formatMessage:l}=(0,B.Z)(),[u,f]=(0,t.useState)(!!c||c===0),g=a.id?l({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):r,p=o.type==="biginteger"?"text":"number",m=!o.type,x=e?l({id:e,defaultMessage:e}):"";return t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:2},t.createElement(Nt.X,{id:r,name:r,onValueChange:R=>{i({target:{name:r,value:R?p==="text"?"0":0:null}}),f(U=>!U)},value:u},g),u&&t.createElement(N.x,{paddingLeft:6,style:{maxWidth:"200px"}},p==="text"?t.createElement(yt.o,{"aria-label":g,disabled:m,error:x,id:r,name:r,onChange:i,value:c===null?"":c}):t.createElement(Pn.Y,{"aria-label":g,disabled:m,error:x,id:r,name:r,onValueChange:R=>{i({target:{name:r,value:R,type:p}})},value:c||0})))};Et.defaultProps={error:null,value:null},Et.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().oneOfType([s().string,s().object,s().bool,s().number])};const An=Et,Wt=({onChange:e,...a})=>{const o=(0,y.lm)(),r=i=>{o({type:"info",message:{id:(0,d.Z)("contentType.kind.change.warning"),defaultMessage:"You just changed the kind of a content type: API will be reset (routes, controllers, and services will be overwritten)."}}),e(i)};return t.createElement(ft,{...a,onChange:r})};Wt.propTypes={onChange:s().func.isRequired};const Ln=Wt,ht=({description:e,disabled:a,intlLabel:o,isCreating:r,name:i,onChange:c,value:l})=>{const{formatMessage:u}=(0,B.Z)(),[f,g]=(0,t.useState)(!1),p=o.id?u({id:o.id,defaultMessage:o.defaultMessage},{...o.values}):i,m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=()=>g(D=>!D),R=()=>{c({target:{name:i,value:!1}}),x()},T=({target:{checked:D}})=>{if(!D&&!r){x();return}c({target:{name:i,value:D}})};return t.createElement(t.Fragment,null,t.createElement(Nt.X,{checked:l,disabled:a,hint:m,name:i,onChange:T},p),t.createElement(y.QH,{isOpen:f,onToggleDialog:x,onConfirm:R,bodyText:{id:(0,d.Z)("popUpWarning.draft-publish.message"),defaultMessage:"If you disable the draft & publish, your drafts will be deleted."},leftButtonText:{id:"components.popUpWarning.button.cancel",defaultMessage:"No, cancel"},rightButtonText:{id:(0,d.Z)("popUpWarning.draft-publish.button.confirm"),defaultMessage:"Yes, disable"}}))};ht.defaultProps={description:null,disabled:!1,value:!1},ht.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isCreating:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().bool};const xn=ht,vt=({categoryName:e,deleteCategory:a,deleteComponent:o,deleteContentType:r,isAttributeModal:i,isCustomFieldModal:c,isComponentAttribute:l,isComponentToDzModal:u,isContentTypeModal:f,isCreatingComponent:g,isCreatingComponentAttribute:p,isCreatingComponentInDz:m,isCreatingComponentWhileAddingAField:x,isCreatingContentType:R,isCreatingDz:T,isComponentModal:D,isDzAttribute:U,isEditingAttribute:C,isEditingCategory:L,isInFirstComponentStep:S,onSubmitAddComponentAttribute:_,onSubmitAddComponentToDz:se,onSubmitCreateContentType:Me,onSubmitCreateComponent:Ae,onSubmitCreateDz:$,onSubmitEditAttribute:De,onSubmitEditCategory:oe,onSubmitEditComponent:Le,onSubmitEditContentType:me,onSubmitEditCustomFieldAttribute:de,onSubmitEditDz:$e,onClickFinish:Te})=>{const{formatMessage:ee}=(0,B.Z)();return u?m?t.createElement(ie.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),se(O,!0)},startIcon:t.createElement(ue.Z,null)},ee({id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"})):t.createElement(ie.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),se(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"})):i&&U&&!T?t.createElement(ie.z,{variant:"default",type:"submit",onClick:O=>{O.preventDefault(),Te(),$e(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"})):i&&U&&T?t.createElement(t.Fragment,null,t.createElement(ie.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),$(O,!0)},startIcon:t.createElement(ue.Z,null)},ee({id:(0,d.Z)("form.button.add-components-to-dynamiczone"),defaultMessage:"Add components to the zone"}))):i&&l?S?t.createElement(ie.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),_(O,!0)}},ee(p?{id:(0,d.Z)("form.button.configure-component"),defaultMessage:"Configure the component"}:{id:(0,d.Z)("form.button.select-component"),defaultMessage:"Configure the component"})):t.createElement(t.Fragment,null,t.createElement(ie.z,{variant:"secondary",type:"submit",onClick:O=>{O.preventDefault(),_(O,!0)},startIcon:t.createElement(ue.Z,null)},ee(x?{id:(0,d.Z)("form.button.add-first-field-to-created-component"),defaultMessage:"Add first field to the component"}:{id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(ie.z,{variant:"default",type:"button",onClick:O=>{O.preventDefault(),Te(),_(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):i&&!l&&!U?t.createElement(t.Fragment,null,t.createElement(ie.z,{type:C?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),De(O,!0)},startIcon:t.createElement(ue.Z,null)},ee({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(ie.z,{type:C?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),Te(),De(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):f?t.createElement(t.Fragment,null,!R&&t.createElement(t.Fragment,null,t.createElement(ie.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),r()}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(ie.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),me(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))),R&&t.createElement(ie.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),Me(O,!0)}},ee({id:"global.continue",defaultMessage:"Continue"}))):D?t.createElement(t.Fragment,null,!g&&t.createElement(t.Fragment,null,t.createElement(ie.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),o()}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(ie.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),Le(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))),g&&t.createElement(ie.z,{type:"submit",variant:"secondary",onClick:O=>{O.preventDefault(),Ae(O,!0)}},ee({id:"global.continue",defaultMessage:"Continue"}))):L?t.createElement(t.Fragment,null,t.createElement(ie.z,{type:"button",variant:"danger",onClick:O=>{O.preventDefault(),a(e)}},ee({id:"global.delete",defaultMessage:"Delete"})),t.createElement(ie.z,{type:"submit",variant:"default",onClick:O=>{O.preventDefault(),oe(O)}},ee({id:"global.finish",defaultMessage:"finish"}))):c?t.createElement(t.Fragment,null,t.createElement(ie.z,{type:C?"button":"submit",variant:"secondary",onClick:O=>{O.preventDefault(),de(O,!0)},startIcon:t.createElement(ue.Z,null)},ee({id:(0,d.Z)("form.button.add-field"),defaultMessage:"Add another field"})),t.createElement(ie.z,{type:C?"submit":"button",variant:"default",onClick:O=>{O.preventDefault(),Te(),de(O,!1)}},ee({id:"global.finish",defaultMessage:"Finish"}))):null};vt.defaultProps={categoryName:null,onClickFinish(){}},vt.propTypes={categoryName:s().string,deleteCategory:s().func.isRequired,deleteComponent:s().func.isRequired,deleteContentType:s().func.isRequired,isAttributeModal:s().bool.isRequired,isCustomFieldModal:s().bool.isRequired,isComponentAttribute:s().bool.isRequired,isComponentModal:s().bool.isRequired,isComponentToDzModal:s().bool.isRequired,isContentTypeModal:s().bool.isRequired,isCreatingComponent:s().bool.isRequired,isCreatingComponentAttribute:s().bool.isRequired,isCreatingComponentInDz:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,isCreatingContentType:s().bool.isRequired,isCreatingDz:s().bool.isRequired,isDzAttribute:s().bool.isRequired,isEditingAttribute:s().bool.isRequired,isEditingCategory:s().bool.isRequired,isInFirstComponentStep:s().bool.isRequired,onSubmitAddComponentAttribute:s().func.isRequired,onSubmitAddComponentToDz:s().func.isRequired,onSubmitCreateContentType:s().func.isRequired,onSubmitCreateComponent:s().func.isRequired,onSubmitCreateDz:s().func.isRequired,onSubmitEditAttribute:s().func.isRequired,onSubmitEditCategory:s().func.isRequired,onSubmitEditComponent:s().func.isRequired,onSubmitEditContentType:s().func.isRequired,onSubmitEditCustomFieldAttribute:s().func.isRequired,onSubmitEditDz:s().func.isRequired,onClickFinish:s().func};const In=vt;var Kt=n(6918),Sn=n(89486),Bn=n(82298),Un=n(76827);const Mt=({actionType:e,attributeName:a,attributeType:o,categoryName:r,contentTypeKind:i,dynamicZoneTarget:c,forTarget:l,modalType:u,targetUid:f,customFieldUid:g,showBackLink:p})=>{const{formatMessage:m}=(0,B.Z)(),{modifiedData:x}=(0,he.Z)(),{onOpenModalAddField:R}=(0,Pe.Z)();let T,D=[];const U=x?.[l]?.[f]||x?.[l]||null;let C=U?.schema.displayName;if(u==="contentType"&&(T=i),["component","editCategory"].includes(u)&&(T="component"),["component","contentType"].includes(u)){let S=(0,d.Z)(`modalForm.component.header-${e}`);return u==="contentType"&&(S=(0,d.Z)(`modalForm.${i}.header-create`)),e==="edit"&&(S=(0,d.Z)("modalForm.header-edit")),t.createElement(Kt.x,null,t.createElement(v.k,null,t.createElement(N.x,null,t.createElement(we.Z,{type:T})),t.createElement(N.x,{paddingLeft:3},t.createElement(I.Z,{fontWeight:"bold",textColor:"neutral800",as:"h2",id:"title"},m({id:S},{name:C})))))}return D=[{label:C,info:{category:U?.category||null,name:U?.schema.displayName}}],u==="chooseAttribute"&&(T=["component","components"].includes(l)?"component":U.schema.kind),u==="addComponentToDynamicZone"&&(T="dynamiczone",D.push({label:c})),(u==="attribute"||u==="customField")&&(T=o,D.push({label:a})),u==="editCategory"&&(D=[{label:m({id:(0,d.Z)("modalForm.header.categories"),defaultMessage:"Categories"})},{label:r}]),t.createElement(Kt.x,null,t.createElement(v.k,{gap:3},p&&t.createElement(y.rU,{"aria-label":m({id:(0,d.Z)("modalForm.header.back"),defaultMessage:"Back"}),startIcon:t.createElement(Un.Z,null),onClick:()=>R({forTarget:l,targetUid:f}),to:"#back"}),t.createElement(we.Z,{type:T,customField:g}),t.createElement(Sn.O,{label:D.map(({label:S})=>S).join(",")},D.map(({label:S,info:_},se,Me)=>{if(S=Ce()(S),!S)return null;const Ae=`${S}.${se}`;return _?.category&&(S=`${S} (${Ce()(_.category)} - ${Ce()(_.name)})`),t.createElement(Bn.$,{isCurrent:se===Me.length-1,key:Ae},S)}))))};Mt.defaultProps={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,contentTypeKind:null,targetUid:null,customFieldUid:null,showBackLink:!1},Mt.propTypes={actionType:s().string,attributeName:s().string,attributeType:s().string,categoryName:s().string,contentTypeKind:s().string,dynamicZoneTarget:s().string,forTarget:s().oneOf(["contentType","component","components"]),modalType:s().string.isRequired,targetUid:s().string,customFieldUid:s().string,showBackLink:s().bool};const ls=Mt,cs=({modalType:e,forTarget:a,kind:o,actionType:r,step:i})=>{switch(e){case"chooseAttribute":return(0,d.Z)(`modalForm.sub-header.chooseAttribute.${a.includes("component")?"component":o||"collectionType"}`);case"attribute":return(0,d.Z)(`modalForm.sub-header.attribute.${r}${i!=="null"&&i!==null&&r!=="edit"?".step":""}`);case"customField":return(0,d.Z)(`modalForm.sub-header.attribute.${r}`);case"addComponentToDynamicZone":return(0,d.Z)("modalForm.sub-header.addComponentToDynamicZone");default:return(0,d.Z)("configurations")}},Fn=({actionType:e,modalType:a,forTarget:o,kind:r,step:i,attributeType:c,attributeName:l,customField:u})=>{const{formatMessage:f}=(0,B.Z)(),g=a==="customField"?u.intlLabel:{id:(0,d.Z)(`attribute.${c}`)};return t.createElement(v.k,{direction:"column",alignItems:"flex-start",paddingBottom:2,gap:1},t.createElement(I.Z,{as:"h2",variant:"beta"},f({id:cs({actionType:e,forTarget:o,kind:r,step:i,modalType:a}),defaultMessage:"Add new field"},{type:Ce()(f(g)),name:Ce()(l),step:i})),t.createElement(I.Z,{variant:"pi",textColor:"neutral600"},f({id:(0,d.Z)(`attribute.${c}.description`),defaultMessage:"A type for modeling data"})))};Fn.defaultProps={actionType:null,modalType:null,forTarget:null,kind:null,step:null,attributeType:null,attributeName:null,customField:null},Fn.propTypes={actionType:s().string,modalType:s().string,forTarget:s().string,kind:s().string,step:s().string,attributeType:s().string,attributeName:s().string,customField:s().object};const ds=Fn;var us=n(1821),ms=n(2878),ps=n(10989),gs=n(77804),fs=n(31624),ba=n(4987),ys=n(2981),Es=n(10382),hs=n(78665),Ra=n(25237);const vs=(0,K.default)(v.k)`
  label {
    ${Ft.k3}
    border-radius: ${({theme:e})=>e.borderRadius};
    border: 1px solid ${({theme:e})=>e.colors.neutral100};
  }
`,Oa=({iconKey:e,name:a,onChange:o,isSelected:r,ariaLabel:i})=>t.createElement(us.g,{name:a,required:!1},t.createElement(ms.Q,{htmlFor:e,id:`${e}-label`},t.createElement(ps.T,null,t.createElement(gs._,{type:"radio",id:e,name:a,checked:r,onChange:o,value:e,"aria-checked":r,"aria-labelledby":`${e}-label`}),i),t.createElement(v.k,{padding:2,cursor:"pointer",hasRadius:!0,background:r&&"primary200"},t.createElement(ae.J,{as:Ra.c[e],color:r?"primary600":"neutral300"}))));Oa.propTypes={iconKey:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,isSelected:s().bool.isRequired,ariaLabel:s().string.isRequired};const _n=({intlLabel:e,name:a,onChange:o,value:r})=>{const{formatMessage:i}=(0,B.Z)(),[c,l]=(0,t.useState)(!1),[u,f]=(0,t.useState)(""),g=Object.keys(Ra.c),[p,m]=(0,t.useState)(g),x=(0,t.useRef)(null),R=(0,t.useRef)(null),T=()=>{l(!c)},D=({target:{value:L}})=>{f(L),m(()=>g.filter(S=>S.toLowerCase().includes(L.toLowerCase())))},U=()=>{T(),f(""),m(g)},C=()=>{o({target:{name:a,value:""}})};return(0,t.useEffect)(()=>{c&&R.current.focus()},[c]),t.createElement(t.Fragment,null,t.createElement(v.k,{justifyContent:"space-between",paddingBottom:2},t.createElement(I.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800",as:"label"},i(e)),t.createElement(v.k,{gap:1},c?t.createElement(fs.w,{ref:R,name:"searchbar",size:"S",placeholder:i({id:(0,d.Z)("ComponentIconPicker.search.placeholder"),defaultMessage:"Search for an icon"}),onBlur:()=>{u||T()},onChange:D,value:u,onClear:U,clearLabel:i({id:(0,d.Z)("IconPicker.search.clear.label"),defaultMessage:"Clear the icon search"})},i({id:(0,d.Z)("IconPicker.search.placeholder.label"),defaultMessage:"Search for an icon"})):t.createElement(ba.h,{ref:x,onClick:T,"aria-label":i({id:(0,d.Z)("IconPicker.search.button.label"),defaultMessage:"Search icon button"}),icon:t.createElement(Es.Z,null),noBorder:!0}),r&&t.createElement(ys.u,{description:i({id:(0,d.Z)("IconPicker.remove.tooltip"),defaultMessage:"Remove the selected icon"})},t.createElement(ba.h,{onClick:C,"aria-label":i({id:(0,d.Z)("IconPicker.remove.button"),defaultMessage:"Remove the selected icon button"}),icon:t.createElement(hs.Z,null),noBorder:!0})))),t.createElement(vs,{position:"relative",padding:1,background:"neutral100",hasRadius:!0,wrap:"wrap",gap:2,maxHeight:"126px",overflow:"auto",textAlign:"center"},p.length>0?p.map(L=>t.createElement(Oa,{key:L,iconKey:L,name:a,onChange:o,isSelected:L===r,ariaLabel:i({id:(0,d.Z)("IconPicker.icon.label"),defaultMessage:"Select {icon} icon"},{icon:L})})):t.createElement(N.x,{padding:4,grow:2},t.createElement(I.Z,{variant:"delta",textColor:"neutral600",textAlign:"center"},i({id:(0,d.Z)("IconPicker.emptyState.label"),defaultMessage:"No icon found"})))))};_n.defaultProps={value:""},_n.propTypes={intlLabel:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ms=_n;var Ts=n(6699),Nn=n.n(Ts),Za=n(50478);const Wn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:c,value:l})=>{const{formatMessage:u}=(0,B.Z)(),f=(0,t.useRef)(c),g=r?.displayName||"";(0,t.useEffect)(()=>{if(g){const R=(0,Za.Z)(g);try{const T=Nn()(R,2);f.current({target:{name:i,value:T}})}catch{f.current({target:{name:i,value:R}})}}else f.current({target:{name:i,value:""}})},[g,i]);const p=a?u({id:a,defaultMessage:a}):"",m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=u(o);return t.createElement(yt.o,{error:p,label:x,id:i,hint:m,name:i,onChange:c,value:l||""})};Wn.defaultProps={description:null,error:null,value:null},Wn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Cs=Wn;var Kn=n(82534),$t=n(81740),ce=n(28861);const $n=({oneThatIsCreatingARelationWithAnother:e,target:a})=>{const{contentTypes:o,sortedContentTypesList:r}=(0,he.Z)(),i=(0,Ke.I0)(),c=r.filter(At),{plugin:l=null,schema:{displayName:u}={displayName:"error"}}=o?.[a]??{},f=({uid:g,plugin:p,title:m,restrictRelationsTo:x})=>()=>{const R=p?`${p}_${m}`:m;i({type:ce.aG,target:{value:g,oneThatIsCreatingARelationWithAnother:e,selectedContentTypeFriendlyName:R,targetContentTypeAllowedRelations:x}})};return t.createElement($t.fC,null,t.createElement(bs,null,`${u} ${l?`(from: ${l})`:""}`),t.createElement($t.VY,{zIndex:5},c.map(({uid:g,title:p,restrictRelationsTo:m,plugin:x})=>t.createElement($t.ck,{key:g,onSelect:f({uid:g,plugin:x,title:p,restrictRelationsTo:m})},p,"\xA0",x&&t.createElement(t.Fragment,null,"(from: ",x,")")))))};$n.defaultProps={target:null},$n.propTypes={oneThatIsCreatingARelationWithAnother:s().string.isRequired,target:s().string};const bs=(0,K.default)($t.xz)`
  svg {
    width: ${6/16}rem;
    height: ${4/16}rem;
  }
`,Rs=$n,jn=({disabled:e,error:a,header:o,isMain:r,name:i,onChange:c,oneThatIsCreatingARelationWithAnother:l,target:u,value:f})=>t.createElement(N.x,{background:"neutral100",hasRadius:!0,borderColor:"neutral200"},t.createElement(v.k,{paddingTop:r?4:1,paddingBottom:r?3:1,justifyContent:"center"},r?t.createElement(I.Z,{variant:"pi",fontWeight:"bold",textColor:"neutral800"},o):t.createElement(Rs,{target:u,oneThatIsCreatingARelationWithAnother:l})),t.createElement(rt.i,{background:"neutral200"}),t.createElement(N.x,{padding:4},t.createElement(y.jm,{disabled:e,error:a?.id||null,intlLabel:{id:(0,d.Z)("form.attribute.item.defineRelation.fieldName"),defaultMessage:"Field name"},name:i,onChange:c,type:"text",value:f})));jn.defaultProps={disabled:!1,error:null,header:null,isMain:!1,onChange(){},oneThatIsCreatingARelationWithAnother:null,target:null,value:""},jn.propTypes={disabled:s().bool,error:s().object,header:s().string,isMain:s().bool,name:s().string.isRequired,onChange:s().func,oneThatIsCreatingARelationWithAnother:s().string,target:s().string,value:s().string};const Da=jn;var Os=n(91682),Zs=n(1267),Ds=n(64510),Ps=n(27645),As=n(43286),Ls=n(36730),xs=n(88702),Pa=n.n(xs);const Is=(0,K.default)(N.x)`
  position: relative;
  width: 100%;
  &::before {
    content: '';
    position: absolute;
    top: calc(50% - 0px);
    height: 2px;
    width: 100%;
    background-color: ${({theme:e})=>e.colors.primary600};
    z-index: 0;
  }
`,Ss=(0,K.default)(N.x)`
  background: ${({theme:e,isSelected:a})=>e.colors[a?"primary100":"neutral0"]};
  border: 1px solid
    ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral200"]};
  border-radius: ${({theme:e})=>e.borderRadius};
  z-index: 1;
  svg {
    width: 1.5rem;
    height: 100%;
    path {
      fill: ${({theme:e,isSelected:a})=>e.colors[a?"primary700":"neutral500"]};
    }
  }
  &:disabled {
    cursor: not-allowed;
  }
`,Bs=(0,K.default)(v.k)`
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
`,Us={oneWay:Os.Z,oneToOne:Zs.Z,oneToMany:Ds.Z,manyToOne:Ps.Z,manyToMany:As.Z,manyWay:Ls.Z},zn=({naturePickerType:e,oneThatIsCreatingARelationWithAnother:a,relationType:o,target:r})=>{const i=(0,Ke.I0)(),{formatMessage:c}=(0,B.Z)(),{contentTypes:l,modifiedData:u}=(0,he.Z)(),f=["oneWay","oneToOne","oneToMany","manyToOne","manyToMany","manyWay"],g=["oneWay","manyWay"],m=(e==="contentType"?A()(u,[e,"schema","kind"],""):e)==="collectionType"?f:g,x=o==="manyToOne",R=A()(l,[r,"schema","displayName"],"unknown"),T=x?R:a,D=x?a:R,U=Nn()(T,o==="manyToMany"?2:1),C=A()(l,[r,"schema","restrictRelationsTo"],null),L=Nn()(D,["manyToMany","oneToMany","manyToOne","manyWay"].includes(o)?2:1);return o?t.createElement(v.k,{style:{flex:1}},t.createElement(Is,null,t.createElement(v.k,{paddingLeft:9,paddingRight:9,paddingTop:1,justifyContent:"center"},t.createElement(dt.k,{tagName:"button"},t.createElement(v.k,{gap:3},m.map(S=>{const _=Us[S],se=C===null||C.includes(S);return t.createElement(Ss,{as:"button",isSelected:o===S,disabled:!se,key:S,onClick:()=>{se&&i({type:ce.QQ,target:{oneThatIsCreatingARelationWithAnother:a,targetContentType:r,value:S}})},padding:2,type:"button"},t.createElement(_,{key:S}))}))))),t.createElement(Bs,{justifyContent:"center"},t.createElement(I.Z,null,Pa()(U,{length:24}),"\xA0"),t.createElement(I.Z,{textColor:"primary600"},c({id:(0,d.Z)(`relation.${o}`)}),"\xA0"),t.createElement(I.Z,null,Pa()(L,{length:24})))):null};zn.defaultProps={relationType:null,target:null},zn.propTypes={naturePickerType:s().string.isRequired,oneThatIsCreatingARelationWithAnother:s().string.isRequired,relationType:s().string,target:s().string};const Fs=zn,Aa=({formErrors:e,mainBoxHeader:a,modifiedData:o,naturePickerType:r,onChange:i})=>{const c=(0,Kn.Z)(o.relation,o.targetAttribute);return t.createElement(v.k,{style:{position:"relative"}},t.createElement(Da,{isMain:!0,header:a,error:e?.name||null,name:"name",onChange:i,value:o?.name||""}),t.createElement(Fs,{naturePickerType:r,oneThatIsCreatingARelationWithAnother:a,relationType:c,target:o.target}),t.createElement(Da,{disabled:["oneWay","manyWay"].includes(c),error:e?.targetAttribute||null,name:"targetAttribute",onChange:i,oneThatIsCreatingARelationWithAnother:a,target:o.target,value:o?.targetAttribute||""}))};Aa.propTypes={formErrors:s().object.isRequired,mainBoxHeader:s().string.isRequired,modifiedData:s().object.isRequired,naturePickerType:s().string.isRequired,onChange:s().func.isRequired};const _s=Aa;var Ns=n(8295),Ws=n(61121);const Vn=({error:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:c}=(0,B.Z)(),{allComponentsCategories:l}=(0,he.Z)(),[u,f]=(0,t.useState)(l),g=e?c({id:e,defaultMessage:e}):"",p=c(a),m=R=>{r({target:{name:o,value:R,type:"select-category"}})},x=R=>{f(T=>[...T,R]),m(R)};return t.createElement(Ns.XU,{error:g,id:o,label:p,name:o,onChange:m,onCreateOption:x,value:i},u.map(R=>t.createElement(Ws.O,{key:R,value:R},R)))};Vn.defaultProps={error:null,value:null},Vn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const Ks=Vn,kn=({error:e,intlLabel:a,isAddingAComponentToAnotherComponent:o,isCreating:r,isCreatingComponentWhileAddingAField:i,componentToCreate:c,name:l,onChange:u,targetUid:f,forTarget:g,value:p})=>{const{formatMessage:m}=(0,B.Z)(),x=e?m({id:e,defaultMessage:e}):"",R=m(a),{componentsGroupedByCategory:T,componentsThatHaveOtherComponentInTheirAttributes:D}=(0,he.Z)(),U=["component","components"].includes(g);let C=Object.entries(T).reduce((L,S)=>{const[_,se]=S,Me=se.map(Ae=>({uid:Ae.uid,label:Ae.schema.displayName,categoryName:_}));return[...L,...Me]},[]);return o&&(C=C.filter(L=>!D.includes(L.uid))),U&&(C=C.filter(L=>L.uid!==f)),i&&(C=[{uid:p,label:c.displayName,categoryName:c.category}]),t.createElement(et.P,{disabled:i||!r,error:x,label:R,id:l,name:l,onChange:L=>{u({target:{name:l,value:L,type:"select-category"}})},value:p||""},C.map(L=>t.createElement(tt.W,{key:L.uid,value:L.uid},`${L.categoryName} - ${L.label}`)))};kn.defaultProps={componentToCreate:null,error:null},kn.propTypes={componentToCreate:s().object,forTarget:s().string.isRequired,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,isAddingAComponentToAnotherComponent:s().bool.isRequired,isCreating:s().bool.isRequired,isCreatingComponentWhileAddingAField:s().bool.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,targetUid:s().string.isRequired,value:s().string.isRequired};const $s=kn,La=({dynamicZoneTarget:e,intlLabel:a,name:o,onChange:r,value:i})=>{const{formatMessage:c}=(0,B.Z)(),{componentsGroupedByCategory:l,modifiedData:u}=(0,he.Z)(),g=(lt(u.contentType.schema.attributes,e)||{}).components||[],p=Object.keys(l).reduce((R,T)=>{const D=l[T].filter(({uid:U})=>!g.includes(U));return D.length>0&&(R[T]=D),R},{}),m=Object.entries(p).reduce((R,T)=>{const[D,U]=T,C={label:D,children:U.map(({uid:L,schema:{displayName:S}})=>({label:S,value:L}))};return R.push(C),R},[]),x=c({id:(0,d.Z)("components.SelectComponents.displayed-value"),defaultMessage:"{number, plural, =0 {# components} one {# component} other {# components}} selected"},{number:i.length});return t.createElement(Lt.Q,{id:"select1",label:c(a),customizeContent:()=>x,name:o,onChange:R=>{r({target:{name:o,value:R,type:"select-components"}})},options:m,value:i||[]})};La.propTypes={intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,dynamicZoneTarget:s().string.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().array.isRequired};const js=La,Gn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:c,value:l})=>{const{formatMessage:u}=(0,B.Z)(),f=u(e),g=a?u({id:a,defaultMessage:a}):"",p=m=>{i({target:{name:r,value:m,type:"select"}}),l&&o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}})};return t.createElement(et.P,{error:g,label:f,id:r,name:r,onChange:p,value:l||""},c.map(({metadatas:{intlLabel:m,disabled:x,hidden:R},key:T,value:D})=>t.createElement(tt.W,{key:T,value:D,disabled:x,hidden:R},u({id:m.id,defaultMessage:m.defaultMessage},m.values))))};Gn.defaultProps={error:void 0,value:""},Gn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const zs=Gn,Hn=({intlLabel:e,error:a,modifiedData:o,name:r,onChange:i,options:c,value:l})=>{const{formatMessage:u}=(0,B.Z)(),f=u(e),g=a?u({id:a,defaultMessage:a}):"",p=m=>{i({target:{name:r,value:m,type:"select"}}),l&&(m==="biginteger"&&l!=="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})),["decimal","float","integer"].includes(m)&&l==="biginteger"&&(o.default!==void 0&&o.default!==null&&i({target:{name:"default",value:null}}),o.max!==void 0&&o.max!==null&&i({target:{name:"max",value:null}}),o.min!==void 0&&o.min!==null&&i({target:{name:"min",value:null}})))};return t.createElement(et.P,{error:g,label:f,id:r,name:r,onChange:p,value:l||""},c.map(({metadatas:{intlLabel:m,disabled:x,hidden:R},key:T,value:D})=>t.createElement(tt.W,{key:T,value:D,disabled:x,hidden:R},u(m))))};Hn.defaultProps={error:void 0,value:""},Hn.propTypes={error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,options:s().arrayOf(s().shape({metadatas:s().shape({intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired}).isRequired,disabled:s().bool,hidden:s().bool}).isRequired,key:s().oneOfType([s().string,s().number]).isRequired,value:s().oneOfType([s().string,s().number]).isRequired}).isRequired).isRequired,value:s().string};const Vs=Hn,qn=({description:e,error:a,intlLabel:o,modifiedData:r,name:i,onChange:c,value:l})=>{const{formatMessage:u}=(0,B.Z)(),f=(0,t.useRef)(c),g=r?.displayName||"";(0,t.useEffect)(()=>{g?f.current({target:{name:i,value:(0,Za.Z)(g)}}):f.current({target:{name:i,value:""}})},[g,i]);const p=a?u({id:a,defaultMessage:a}):"",m=e?u({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=u(o);return t.createElement(yt.o,{error:p,label:x,id:i,hint:m,name:i,onChange:c,value:l||""})};qn.defaultProps={description:null,error:null,value:null},qn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,modifiedData:s().object.isRequired,name:s().string.isRequired,onChange:s().func.isRequired,value:s().string};const ks=qn,xa=({form:e,formErrors:a,genericInputProps:o,modifiedData:r,onChange:i})=>{const{formatMessage:c}=(0,B.Z)();return e.map((l,u)=>l.items.length===0?null:t.createElement(N.x,{key:u},l.sectionTitle&&t.createElement(N.x,{paddingBottom:4},t.createElement(I.Z,{variant:"delta",as:"h3"},c(l.sectionTitle))),t.createElement(ut.r,{gap:4},l.items.map((f,g)=>{const p=`${u}.${g}`,m=A()(r,f.name,void 0),x=Object.keys(a).find(T=>T===f.name),R=x?a[x].id:A()(a,[...f.name.split(".").filter(T=>T!=="componentToCreate"),"id"],null);return f.type==="pushRight"?t.createElement(Je.P,{col:f.size||6,key:f.name||p},t.createElement("div",null)):t.createElement(Je.P,{col:f.size||6,key:f.name||p},t.createElement(y.jm,{...f,...o,error:R,onChange:i,value:m}))}))))};xa.propTypes={form:s().arrayOf(s().object).isRequired,formErrors:s().object.isRequired,genericInputProps:s().object.isRequired,modifiedData:s().object.isRequired,onChange:s().func.isRequired};const Ia=xa;var Gs=n(39708);const Xn=({description:e,disabled:a,error:o,intlLabel:r,labelAction:i,name:c,onChange:l,placeholder:u,value:f})=>{const{formatMessage:g}=(0,B.Z)(),p=o?g({id:o,defaultMessage:o}):"",m=e?g({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",x=g(r),R=u?g({id:u.id,defaultMessage:u.defaultMessage},{...u.values}):"",T=Array.isArray(f)?f.join(`
`):"",D=U=>{const C=U.target.value.split(`
`);l({target:{name:c,value:C}})};return t.createElement(Gs.g,{disabled:a,error:p,label:x,labelAction:i,id:c,hint:m,name:c,onChange:D,placeholder:R,value:T},T)};Xn.defaultProps={description:null,disabled:!1,error:"",labelAction:void 0,placeholder:null,value:""},Xn.propTypes={description:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),disabled:s().bool,error:s().string,intlLabel:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}).isRequired,labelAction:s().element,name:s().string.isRequired,onChange:s().func.isRequired,placeholder:s().shape({id:s().string.isRequired,defaultMessage:s().string.isRequired,values:s().object}),value:s().oneOfType([s().array,s().string])};const Hs=Xn,We={name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.attribute.form.base.name.description"),defaultMessage:"No space is allowed for the name of the attribute"}},qs={sections:[{sectionTitle:null,items:[We]}]},Yn={intlLabel:{id:"global.type",defaultMessage:"Type"},name:"createComponent",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.create"),defaultMessage:"Create a new component"},description:{id:(0,d.Z)("form.attribute.component.option.create.description"),defaultMessage:"A component is shared across types and components, it will be available and accessible everywhere."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.reuse-existing"),defaultMessage:"Use an existing component"},description:{id:(0,d.Z)("form.attribute.component.option.reuse-existing.description"),defaultMessage:"Reuse a component already created to keep your data consistent across content-types."},value:!1}]};var M=n(47853);const Sa=/^[A-Za-z][-_0-9A-Za-z]*$/,Xs=e=>{const a={name:M.Z_().matches(Sa,y.I0.regex).test({name:"nameNotAllowed",message:y.I0.unique,test(o){return o?!e.includes(o?.toLowerCase()):!1}}).required(y.I0.required)};return M.Ry(a)},Ys={base:{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"name",type:"text",intlLabel:{id:"global.name",defaultMessage:"Name"},description:{id:(0,d.Z)("modalForm.editCategory.base.name.description"),defaultMessage:"No space is allowed for the name of the category"}}]}]}};var nt=n(9816);const Qs=(e,a,o)=>{const r={displayName:M.Z_().test({name:"nameAlreadyUsed",message:y.I0.unique,test(i){if(!i)return!1;const c=(0,nt.N)(i,o);return!e.includes(c)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(i){return i?!a.includes(i?.trim()?.toLowerCase()):!1}}).required(y.I0.required),category:M.Z_().matches(Sa,y.I0.regex).required(y.I0.required),icon:M.Z_()};return M.Ry(r)},at={base(e=""){return[{sectionTitle:null,items:[{name:`${e}displayName`,type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display Name"}},{name:`${e}category`,type:"select-category",intlLabel:{id:(0,d.Z)("modalForm.components.create-component.category.label"),defaultMessage:"Select a category or enter a name to create a new one"}}]},{sectionTitle:null,items:[{name:`${e}icon`,type:"icon-picker",size:12,intlLabel:{id:(0,d.Z)("modalForm.components.icon.label"),defaultMessage:"Icon"}}]}]},advanced(){return[]}},Z={default:{name:"default",type:"text",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"}},max:{name:"max",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximum"),defaultMessage:"Maximum value"}},maxLength:{name:"maxLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.maximumLength"),defaultMessage:"Maximum length"}},min:{name:"min",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimum"),defaultMessage:"Minimum value"}},minLength:{name:"minLength",type:"checkbox-with-number-field",intlLabel:{id:(0,d.Z)("form.attribute.item.minimumLength"),defaultMessage:"Minimum length"}},private:{name:"private",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.privateField"),defaultMessage:"Private field"},description:{id:(0,d.Z)("form.attribute.item.privateField.description"),defaultMessage:"This field will not show up in the API response"}},regex:{intlLabel:{id:(0,d.Z)("form.attribute.item.text.regex"),defaultMessage:"RegExp pattern"},name:"regex",type:"text",description:{id:(0,d.Z)("form.attribute.item.text.regex.description"),defaultMessage:"The text of the regular expression"}},required:{name:"required",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.requiredField"),defaultMessage:"Required field"},description:{id:(0,d.Z)("form.attribute.item.requiredField.description"),defaultMessage:"You won't be able to create an entry if this field is empty"}},unique:{name:"unique",type:"checkbox",intlLabel:{id:(0,d.Z)("form.attribute.item.uniqueField"),defaultMessage:"Unique field"},description:{id:(0,d.Z)("form.attribute.item.uniqueField.description"),defaultMessage:"You won't be able to create an entry if there is an existing entry with identical content"}}},Ba={advanced:{blocks(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},boolean(){return{sections:[{sectionTitle:null,items:[{autoFocus:!0,type:"select-default-boolean",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},name:"default",options:[{value:"true",key:"true",metadatas:{intlLabel:{id:"true",defaultMessage:"true"}}},{value:"",key:"null",metadatas:{intlLabel:{id:"null",defaultMessage:"null"}}},{value:"false",key:"false",metadatas:{intlLabel:{id:"false",defaultMessage:"false"}}}]}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},component({repeatable:e},a){return a==="1"?{sections:at.advanced("componentToCreate")}:e?{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private,Z.max,Z.min]}]}:{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},date({type:e}){return{sections:[{sectionTitle:null,items:[{...Z.default,type:e||"date",value:null,withDefaultValue:!1,disabled:!e,autoFocus:!1}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.private]}]}},dynamiczone(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.max,Z.min]}]}},email(){return{sections:[{sectionTitle:null,items:[{...Z.default,type:"email"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.maxLength,Z.minLength,Z.private]}]}},enumeration(e){return{sections:[{sectionTitle:null,items:[{name:"default",type:"select",intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{},options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"}}},...(e.enum||[]).filter((a,o)=>e.enum.indexOf(a)===o&&a).map(a=>({key:a,value:a,metadatas:{intlLabel:{id:`${a}.no-override`,defaultMessage:a}}}))]},{intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.graphql"),defaultMessage:"Name override for GraphQL"},name:"enumName",type:"text",validations:{},description:{id:(0,d.Z)("form.attribute.item.enumeration.graphql.description"),defaultMessage:"Allows you to override the default generated name for GraphQL"}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},json(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},media(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:(0,d.Z)("form.attribute.media.allowed-types"),defaultMessage:"Select allowed types of media"},name:"allowedTypes",type:"allowed-types-select",size:7,value:"",validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.private]}]}},number(e){const a=e.type==="decimal"||e.type==="float"?"any":1;return{sections:[{sectionTitle:null,items:[{autoFocus:!0,name:"default",type:e.type==="biginteger"?"text":"number",step:a,intlLabel:{id:(0,d.Z)("form.attribute.settings.default"),defaultMessage:"Default value"},validations:{}}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.max,Z.min,Z.private]}]}},password(){return{sections:[{sectionTitle:null,items:[Z.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]}]}},relation(){return{sections:[{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.private]}]}},richtext(){return{sections:[{sectionTitle:null,items:[Z.default]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]}]}},text(){return{sections:[{sectionTitle:null,items:[Z.default,Z.regex]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.unique,Z.maxLength,Z.minLength,Z.private]}]}},uid(e){return{sections:[{sectionTitle:null,items:[{...Z.default,disabled:Boolean(e.targetField),type:"text"}]},{sectionTitle:{id:"global.settings",defaultMessage:"Settings"},items:[Z.required,Z.maxLength,Z.minLength,Z.private]}]}}},base:{component(e,a){if(a==="1"){const o=e.createComponent===!0?at.base("componentToCreate."):[];return{sections:[{sectionTitle:null,items:[Yn]},...o]}}return{sections:[{sectionTitle:null,items:[We,{name:"component",type:"select-component",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-component"),defaultMessage:"Select a component"},isMultiple:!1}]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"repeatable",type:"boolean-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.attribute.component.option.repeatable"),defaultMessage:"Repeatable component"},description:{id:(0,d.Z)("form.attribute.component.option.repeatable.description"),defaultMessage:"Best for multiple instances (array) of ingredients, meta tags, etc.."},value:!0},{title:{id:(0,d.Z)("form.attribute.component.option.single"),defaultMessage:"Single component"},description:{id:(0,d.Z)("form.attribute.component.option.single.description"),defaultMessage:"Best for grouping fields like full address, main information, etc..."},value:!1}]}]}]}},date(){return{sections:[{sectionTitle:null,items:[We,{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",type:"select-date",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"date",value:"date",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.date"),defaultMessage:"date (ex: 01/01/{currentYear})",values:{currentYear:new Date().getFullYear()}}}},{key:"datetime",value:"datetime",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.datetime"),defaultMessage:"datetime (ex: 01/01/{currentYear} 00:00 AM)",values:{currentYear:new Date().getFullYear()}}}},{key:"time",value:"time",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.date.type.time"),defaultMessage:"time (ex: 00:00 AM)"}}}]}]}]}},enumeration(){return{sections:[{sectionTitle:null,items:[We]},{sectionTitle:null,items:[{name:"enum",type:"textarea-enum",size:6,intlLabel:{id:(0,d.Z)("form.attribute.item.enumeration.rules"),defaultMessage:"Values (one line per value)"},placeholder:{id:(0,d.Z)("form.attribute.item.enumeration.placeholder"),defaultMessage:`Ex:
morning
noon
evening`},validations:{required:!0}}]}]}},media(){return{sections:[{sectionTitle:null,items:[We]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"multiple",size:12,type:"boolean-radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.media.option.multiple"),defaultMessage:"Multiple media"},description:{id:(0,d.Z)("form.attribute.media.option.multiple.description"),defaultMessage:"Best for sliders, carousels or multiple files download"},value:!0},{title:{id:(0,d.Z)("form.attribute.media.option.single"),defaultMessage:"Single media"},description:{id:(0,d.Z)("form.attribute.media.option.single.description"),defaultMessage:"Best for avatar, profile picture or cover"},value:!1}]}]}]}},number(){return{sections:[{sectionTitle:null,items:[We,{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type"),defaultMessage:"Number format"},name:"type",type:"select-number",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"components.InputSelect.option.placeholder",defaultMessage:"Choose here"},hidden:!0}},{key:"integer",value:"integer",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.integer"),defaultMessage:"integer (ex: 10)"}}},{key:"biginteger",value:"biginteger",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.biginteger"),defaultMessage:"biginteger (ex: 123456789)"}}},{key:"decimal",value:"decimal",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.decimal"),defaultMessage:"decimal (ex: 2.22)"}}},{key:"float",value:"float",metadatas:{intlLabel:{id:(0,d.Z)("form.attribute.item.number.type.float"),defaultMessage:"decimal (ex: 3.3333333)"}}}]}]}]}},relation(){return{sections:[{sectionTitle:null,items:[{intlLabel:{id:"FIXME",defaultMessage:"FIXME"},name:"relation",size:12,type:"relation"}]}]}},string(){return{sections:[{sectionTitle:null,items:[We]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},text(){return{sections:[{sectionTitle:null,items:[We]},{sectionTitle:null,items:[{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"type",size:12,type:"radio-group",radios:[{title:{id:(0,d.Z)("form.attribute.text.option.short-text"),defaultMessage:"Sort text"},description:{id:(0,d.Z)("form.attribute.text.option.short-text.description"),defaultMessage:"Best for titles, names, links (URL). It also enables exact search on the field."},value:"string"},{title:{id:(0,d.Z)("form.attribute.text.option.long-text"),defaultMessage:"Long text"},description:{id:(0,d.Z)("form.attribute.text.option.long-text.description"),defaultMessage:"Best for descriptions, biography. Exact search is disabled."},value:"text"}]}]}]}},uid(e,a,o){const r=o.filter(({type:i})=>["string","text"].includes(i)).map(({name:i})=>({key:i,value:i,metadatas:{intlLabel:{id:`${i}.no-override`,defaultMessage:i}}}));return{sections:[{sectionTitle:null,items:[{...We,placeholder:{id:(0,d.Z)("modalForm.attribute.form.base.name.placeholder"),defaultMessage:"e.g. slug, seoUrl, canonicalUrl"}},{intlLabel:{id:(0,d.Z)("modalForm.attribute.target-field"),defaultMessage:"Attached field"},name:"targetField",type:"select",options:[{key:"__null_reset_value__",value:"",metadatas:{intlLabel:{id:"global.none",defaultMessage:"None"}}},...r]}]}]}}}};var Js=n(81465),ws=n.n(Js),eo=n(12665),to=n.n(eo);const Qn=e=>to()(e,{decamelize:!1,lowercase:!1,separator:"_"});var no=n(51527),Jn=n.n(no);const Ua=/^[A-Za-z][_0-9A-Za-z]*$/,Fa=e=>({name:"attributeNameAlreadyUsed",message:y.I0.unique,test(a){return a?!e.includes(a):!1}}),vi=(e,a,o)=>{const r=e?.schema?.attributes??{};return Object.keys(r).filter(i=>a?i!==o:!0)},wn=e=>({name:"forbiddenAttributeName",message:(0,d.Z)("error.attributeName.reserved-name"),test(a){return a?!e.includes(a):!1}}),h={default:()=>M.Z_().nullable(),max:()=>M.Rx().integer().nullable(),min:()=>M.Rx().integer().when("max",(e,a)=>e?a.max(e,(0,d.Z)("error.validation.minSupMax")):a).nullable(),maxLength:()=>M.Rx().integer().positive((0,d.Z)("error.validation.positive")).nullable(),minLength:()=>M.Rx().integer().min(0).when("maxLength",(e,a)=>e?a.max(e,(0,d.Z)("error.validation.minSupMax")):a).nullable(),name(e,a){return M.Z_().test(Fa(e)).test(wn(a)).matches(Ua,y.I0.regex).required(y.I0.required)},required:()=>M.O7(),type:()=>M.Z_().required(y.I0.required),unique:()=>M.O7().nullable()},ea=(e,a)=>({name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength(),regex:M.Z_().test({name:"isValidRegExpPattern",message:(0,d.Z)("error.validation.regex"),test(r){return new RegExp(r)!==null}}).nullable()}),ta={name:"isMinSuperiorThanMax",message:(0,d.Z)("error.validation.minSupMax"),test(e){if(!e)return!0;const{max:a}=this.parent;return!a||Number.isNaN(Jn()(e))?!0:Jn()(a)>=Jn()(e)}},na={date(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},datetime(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},time(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},default(e,a){const o={name:h.name(e,a),type:h.type()};return M.Ry(o)},biginteger(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Z_().nullable().matches(/^-?\d*$/),unique:h.unique(),required:h.required(),max:M.Z_().nullable().matches(/^-?\d*$/,y.I0.regex),min:M.Z_().nullable().test(ta).matches(/^-?\d*$/,y.I0.regex)};return M.Ry(o)},boolean(e,a){const o={name:h.name(e,a),default:M.O7().nullable(),required:h.required(),unique:h.unique()};return M.Ry(o)},component(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min(),component:M.Z_().required(y.I0.required)};return M.Ry(o)},decimal(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Rx(),required:h.required(),max:M.Rx(),min:M.Rx().test(ta)};return M.Ry(o)},dynamiczone(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),max:h.max(),min:h.min()};return M.Ry(o)},email(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Z_().email().nullable(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},enumeration(e,a){const o=/^[_A-Za-z][_0-9A-Za-z]*$/,r={name:M.Z_().test(Fa(e)).test(wn(a)).matches(o,y.I0.regex).required(y.I0.required),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),enum:M.IX().of(M.Z_()).min(1,y.I0.min).test({name:"areEnumValuesUnique",message:(0,d.Z)("error.validation.enum-duplicate"),test(i){return!ws()(i.map(Qn).filter((l,u,f)=>f.indexOf(l)!==u)).length}}).test({name:"doesNotHaveEmptyValues",message:(0,d.Z)("error.validation.enum-empty-string"),test:i=>!i.map(Qn).some(c=>c==="")}).test({name:"doesMatchRegex",message:(0,d.Z)("error.validation.enum-regex"),test:i=>i.map(Qn).every(c=>o.test(c))}),enumName:M.Z_().nullable()};return M.Ry(r)},float(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),default:M.Rx(),max:M.Rx(),min:M.Rx().test(ta)};return M.Ry(o)},integer(e,a){const o={name:h.name(e,a),type:h.type(),default:M.Rx().integer(),unique:h.unique(),required:h.required(),max:h.max(),min:h.min()};return M.Ry(o)},json(e,a){const o={name:h.name(e,a),type:h.type(),required:h.required(),unique:h.unique()};return M.Ry(o)},media(e,a){const o={name:h.name(e,a),type:h.type(),multiple:M.O7(),required:h.required(),allowedTypes:M.IX().of(M.Z_().oneOf(["images","videos","files","audios"])).min(1).nullable()};return M.Ry(o)},password(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},relation(e,a,o,{initialData:r,modifiedData:i}){const c={name:h.name(e,a),target:M.Z_().required(y.I0.required),relation:M.Z_().required(),type:M.Z_().required(),targetAttribute:M.Vo(()=>{const l=(0,Kn.Z)(i.relation,i.targetAttribute);if(l==="oneWay"||l==="manyWay")return M.Z_().nullable();let u=M.Z_().test(wn(a)),g=[...o.map(({name:p})=>p),i.name].filter(p=>p!==r.targetAttribute);return u.matches(Ua,y.I0.regex).test({name:"forbiddenTargetAttributeName",message:(0,d.Z)("error.validation.relation.targetAttribute-taken"),test(p){return p?!g.includes(p):!1}}).required(y.I0.required)})};return M.Ry(c)},richtext(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},blocks(e,a){const o={name:h.name(e,a),type:h.type(),default:h.default(),unique:h.unique(),required:h.required(),maxLength:h.maxLength(),minLength:h.minLength()};return M.Ry(o)},string(e,a){const o=ea(e,a);return M.Ry(o)},text(e,a){const o=ea(e,a);return M.Ry(o)},uid(e,a){const o=ea(e,a);return M.Ry(o)}},ao=({usedContentTypeNames:e=[],reservedModels:a=[],singularNames:o=[],pluralNames:r=[],collectionNames:i=[]})=>{const c={displayName:M.Z_().test({name:"nameAlreadyUsed",message:y.I0.unique,test(l){if(!l)return!1;const u=(0,nt.E)(l);return!e.includes(u)}}).test({name:"nameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(y.I0.required),pluralName:M.Z_().test({name:"pluralNameAlreadyUsed",message:y.I0.unique,test(l){return l?!r.includes(l):!1}}).test({name:"pluralNameAlreadyUsedAsSingular",message:(0,d.Z)("error.contentType.pluralName-equals-singularName"),test(l){return l?!o.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.pluralName-used"),test(l,u){return l?u.parent.singularName!==l:!1}}).test({name:"pluralNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).test({name:"pluralNameNotAlreadyUsedInCollectionName",message:(0,d.Z)("error.contentType.pluralName-equals-collectionName"),test(l){return l?!i.includes(l?.trim()?.toLowerCase()):!1}}).required(y.I0.required),singularName:M.Z_().test({name:"singularNameAlreadyUsed",message:y.I0.unique,test(l){return l?!o.includes(l):!1}}).test({name:"singularNameAlreadyUsedAsPlural",message:(0,d.Z)("error.contentType.singularName-equals-pluralName"),test(l){return l?!r.includes(l):!1}}).test({name:"pluralAndSingularAreUnique",message:(0,d.Z)("error.contentType.singularName-used"),test(l,u){return l?u.parent.pluralName!==l:!1}}).test({name:"singularNameNotAllowed",message:(0,d.Z)("error.contentTypeName.reserved-name"),test(l){return l?!a.includes(l?.trim()?.toLowerCase()):!1}}).required(y.I0.required),draftAndPublish:M.O7(),kind:M.Z_().oneOf(["singleType","collectionType"]),reviewWorkflows:M.O7()};return M.Ry(c)},_a={name:"displayName",type:"text",intlLabel:{id:(0,d.Z)("contentType.displayName.label"),defaultMessage:"Display name"}},aa={advanced:{default(){return{sections:[{items:[{intlLabel:{id:(0,d.Z)("contentType.draftAndPublish.label"),defaultMessage:"Draft & publish"},description:{id:(0,d.Z)("contentType.draftAndPublish.description"),defaultMessage:"Allows writing a draft version of an entry, before it is published"},name:"draftAndPublish",type:"toggle-draft-publish",validations:{}}]}]}}},base:{create(){return{sections:[{sectionTitle:null,items:[_a,{description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text-singular"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text-plural"}]}]}},edit(){return{sections:[{sectionTitle:null,items:[_a,{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-singular.description"),defaultMessage:"Used to generate the API routes and databases tables/collections"},intlLabel:{id:(0,d.Z)("contentType.apiId-singular.label"),defaultMessage:"API ID (Singular)"},name:"singularName",type:"text"},{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{disabled:!0,description:{id:(0,d.Z)("contentType.apiId-plural.description"),defaultMessage:"Pluralized API ID"},intlLabel:{id:(0,d.Z)("contentType.apiId-plural.label"),defaultMessage:"API ID (Plural)"},name:"pluralName",type:"text"},{intlLabel:{id:"global.type",defaultMessage:"Type"},name:"kind",type:"content-type-radio-group",size:12,radios:[{title:{id:(0,d.Z)("form.button.collection-type.name"),defaultMessage:"Collection Type"},description:{id:(0,d.Z)("form.button.collection-type.description"),defaultMessage:"Best for multiple instances like articles, products, comments, etc."},value:"collectionType"},{title:{id:(0,d.Z)("form.button.single-type.name"),defaultMessage:"Single Type"},description:{id:(0,d.Z)("form.button.single-type.description"),defaultMessage:"Best for single instance like about us, homepage, etc."},value:"singleType"}]}]}]}}}},sa={advanced:{default(){return{sections:at.advanced("componentToCreate.")}}},base:{createComponent(){return{sections:[{sectionTitle:null,items:[Yn]},...at.base("componentToCreate.")]}},default(){return{sections:[{sectionTitle:null,items:[Yn]},{sectionTitle:null,items:[{type:"pushRight",size:6,intlLabel:{id:"",defaultMessage:""},name:"pushRight"},{name:"components",type:"select-components",intlLabel:{id:(0,d.Z)("modalForm.attributes.select-components"),defaultMessage:"Select the components"},isMultiple:!0}]}]}}}},Na=(e,a)=>{e.forEach(o=>{if(!("sectionTitle"in o)){a[0].items.push(o);return}a.push(o)})},Wa=(e,a)=>e.filter(({name:o})=>o!==a.initialData.name).map(({name:o})=>o),qe={customField:{schema({schemaAttributes:e,attributeType:a,customFieldValidator:o,reservedNames:r,schemaData:i,ctbFormsAPI:c}){const l=Wa(e,i),u=na[a](l,r.attributes);return c.makeCustomFieldValidator(u,o,l,r.attributes,i)},form:{base({customField:e}){const a=[{sectionTitle:null,items:[We]}];return e.options?.base&&Na(e.options.base,a),{sections:a}},advanced({customField:e,data:a,step:o,extensions:r,...i}){const c=[{sectionTitle:null,items:[]}],l=r.getAdvancedForm(["attribute",e.type],{data:a,type:e.type,step:o,...i});if(e.options?.advanced&&Na(e.options.advanced,c),l){const u={sectionTitle:{id:(0,d.Z)("modalForm.custom-fields.advanced.settings.extended"),defaultMessage:"Extended settings"},items:l};c.push(u)}return{sections:c}}}},attribute:{schema(e,a,o,r,i,c){const l=e?.schema?.attributes??[],u=Wa(l,i);try{let f=na[a](u,o.attributes,r,i);return c.makeValidator(["attribute",a],f,u,o.attributes,r,i)}catch(f){return console.error("Error yup build schema",f),na.default(u,o.attributes)}},form:{advanced({data:e,type:a,step:o,extensions:r,...i}){try{const c=Ba.advanced[a](e,o).sections,l=r.getAdvancedForm(["attribute",a],{data:e,type:a,step:o,...i});return{sections:c.reduce((f,g)=>(g.sectionTitle===null?f.push(g):f.push({...g,items:[...g.items,...l]}),f),[])}}catch(c){return console.error(c),{sections:[]}}},base({data:e,type:a,step:o,attributes:r}){try{return Ba.base[a](e,o,r)}catch{return qs}}}},contentType:{schema(e,a,o,r,i,c){const l=Object.values(c).map(T=>T.schema.singularName),u=Object.values(c).map(T=>T?.schema?.pluralName??""),f=a?e.filter(T=>T!==o):e,g=a?l.filter(T=>{const{schema:D}=c[o];return D.singularName!==T}):l,p=a?u.filter(T=>{const{schema:D}=c[o];return D.pluralName!==T}):u,m=Object.values(c).map(T=>T?.schema?.collectionName??""),x=a?m.filter(T=>{const{schema:D}=c[o],U=D.pluralName,C=D.collectionName;return T!==U||T!==C}):m,R=ao({usedContentTypeNames:f,reservedModels:r.models,singularNames:g,pluralNames:p,collectionNames:x});return i.makeValidator(["contentType"],R,f,r.models,g,p)},form:{base({actionType:e}){return e==="create"?aa.base.create():aa.base.edit()},advanced({extensions:e}){const a=aa.advanced.default().sections.map(r=>r.items).flat(),o=e.getAdvancedForm(["contentType"]);return{sections:[{items:[...a,...o]}]}}}},component:{schema(e,a,o,r=!1,i=null){const c=r?e.filter(l=>l!==i):e;return Qs(c,o.models,a)},form:{advanced(){return{sections:at.advanced()}},base(){return{sections:at.base()}}}},addComponentToDynamicZone:{form:{advanced(){return sa.advanced.default()},base({data:e}){return e?.createComponent??!1?sa.base.createComponent():sa.base.default()}}},editCategory:{schema(e,a){const o=e.filter(r=>r!==a.name).map(r=>r.toLowerCase());return Xs(o)},form:{advanced:()=>({sections:[]}),base(){return Ys.base}}}};var Ka=n(57150),so=n(87777);const oo=()=>e=>e[`${w.Z}_formModal`]||so.E,io=()=>(0,Ka.P1)(oo(),e=>e),ro=(e,a)=>{const o=A()(e,["contentType","schema","kind"],"");return o==="singleType"||o===a.kind?!0:A()(e,["contentType","schema","attributes"],[]).filter(({relation:c,type:l,targetAttribute:u})=>{const f=(0,Kn.Z)(c,u);return l==="relation"&&!["oneWay","manyWay"].includes(f)}).length===0},lo=(e="",a,o)=>{const r=["text","email","richtext","password","blocks","number","enumeration","date","media","boolean","json","relation"],i=e==="contentType",c=o.includes(a),l=!i&&!c;return i?[[...r,"uid"],["component","dynamiczone"]]:l?[r,["component"]]:[r]},$a=e=>e.reduce((a,o)=>{const r=o.items.reduce((i,c)=>(c.name&&i.push(c.name),i),[]);return[...a,...r]},[]),co=()=>{const{onCloseModal:e,onNavigateToChooseAttributeModal:a,onNavigateToAddCompoToDZModal:o,onNavigateToCreateComponentStep2:r,actionType:i,attributeName:c,attributeType:l,customFieldUid:u,categoryName:f,dynamicZoneTarget:g,forTarget:p,modalType:m,isOpen:x,showBackLink:R,kind:T,step:D,targetUid:U}=(0,Pe.Z)(),C=(0,y.mZ)().get(u),L=(0,t.useRef)(),S=(0,t.useMemo)(io,[]),_=(0,Ke.I0)(),se=(0,y.lm)(),Me=(0,Ke.v9)(z=>S(z),Ke.wU),{push:Ae}=(0,q.k6)(),{trackUsage:$}=(0,y.rS)(),{formatMessage:De}=(0,B.Z)(),{getPlugin:oe}=(0,y.j1)(),me=oe(w.Z).apis.forms,de=me.components.inputs,{addAttribute:$e,addCustomFieldAttribute:Te,addCreatedComponentToDynamicZone:ee,allComponentsCategories:O,changeDynamicZoneComponents:oa,contentTypes:st,components:Ct,createSchema:ot,deleteCategory:ia,deleteData:zt,editCategory:ra,editCustomFieldAttribute:la,submitData:ca,modifiedData:be,nestedComponents:da,setModifiedData:ua,sortedContentTypesList:ma,updateSchema:Vt,reservedNames:Xe}=(0,he.Z)(),{componentToCreate:bt,formErrors:je,initialData:fe,isCreatingComponentWhileAddingAField:Rt,modifiedData:E}=Me,P=p==="contentType"||p==="component"?[p]:[p,U];(0,t.useEffect)(()=>{if(x){const z=ma.filter(At);m==="editCategory"&&ua(),i==="edit"&&m==="attribute"&&p==="contentType"&&$("willEditFieldOfContentType");const Ie=[...P,"schema","attributes"],Ue=lt(A()(be,Ie,[]),g)||null;if(m==="editCategory"&&i==="edit"&&_({type:ce._H,modalType:m,actionType:i,data:{name:f}}),m==="contentType"&&i==="create"&&_({type:ce._H,modalType:m,actionType:i,data:{draftAndPublish:!0},pluginOptions:{}}),m==="contentType"&&i==="edit"){const{displayName:V,draftAndPublish:ye,kind:Fe,pluginOptions:Oe,pluralName:ti,reviewWorkflows:ni,singularName:ai}=A()(be,[...P,"schema"],{displayName:null,pluginOptions:{},singularName:null,pluralName:null});_({type:ce._H,actionType:i,modalType:m,data:{displayName:V,draftAndPublish:ye,kind:Fe,pluginOptions:Oe,pluralName:ti,reviewWorkflows:ni??!1,singularName:ai}})}if(m==="component"&&i==="edit"){const V=A()(be,P,{});_({type:ce._H,actionType:i,modalType:m,data:{displayName:V.schema.displayName,category:V.category,icon:V.schema.icon}})}if(m==="addComponentToDynamicZone"&&i==="edit"){const V={...Ue,components:[],name:g,createComponent:!1,componentToCreate:{type:"component"}};_({type:ce.VZ,attributeToEdit:V})}if(l){const ye={...lt(A()(be,Ie,[]),c),name:c};l==="component"&&i==="edit"&&(ye.repeatable||Ot()(ye,"repeatable",!1)),_(m==="customField"?{type:ce.OY,customField:C,isEditing:i==="edit",modifiedDataToSetForEditing:ye,forTarget:p}:{type:ce.S0,attributeType:l,nameToSetForRelation:A()(z,["0","title"],"error"),targetUid:A()(z,["0","uid"],"error"),isEditing:i==="edit",modifiedDataToSetForEditing:ye,step:D,forTarget:p})}}else _({type:ce.c2})},[i,c,l,f,g,p,x,m]);const j=m==="contentType",pe=m==="component",Re=m==="attribute",xe=m==="customField",ze=l==="component"&&Re,Qe=i==="create",Ye=A()(E,"createComponent",!1)||Rt,it=D==="1",es=m==="editCategory",ts=m==="chooseAttribute",pa=(0,nt.E)(E.displayName||""),ga=A()(be,[...P,"schema","attributes"],null),$o=async()=>{let z;const Ie=Ye&&D==="1"?A()(E,"componentToCreate",{}):E;if(j)z=qe.contentType.schema(Object.keys(st),i==="edit",A()(be,[...P,"uid"],null),Xe,me,st);else if(pe)z=qe.component.schema(Object.keys(Ct),E.category||"",Xe,i==="edit",A()(be,[...P,"uid"],null),me);else if(xe)z=qe.customField.schema({schemaAttributes:A()(be,[...P,"schema","attributes"],[]),attributeType:C.type,reservedNames:Xe,schemaData:{modifiedData:E,initialData:fe},ctbFormsAPI:me,customFieldValidator:C.options?.validator});else if(ze&&Ye&&it)z=qe.component.schema(Object.keys(Ct),A()(E,"componentToCreate.category",""),Xe,me);else if(Re&&!it){const Ue=l==="relation"?"relation":E.type;let V=[];if(Ue==="relation"){const ye=A()(E,["target"],null);V=A()(st,[ye,"schema","attributes"],[]).filter(({name:Oe})=>i!=="edit"?!0:Oe!==fe.targetAttribute)}z=qe.attribute.schema(A()(be,P,{}),Ue,Xe,V,{modifiedData:E,initialData:fe},me)}else if(es)z=qe.editCategory.schema(O,fe,me);else if(it&&Ye)z=qe.component.schema(Object.keys(Ct),A()(E,"componentToCreate.category",""),Xe,me);else return;await z.validate(Ie,{abortEarly:!1})},ns=(0,t.useCallback)(({target:{name:z,value:Ie,type:Ue,...V}})=>{const ye=["enumName","max","min","maxLength","minLength","regex","default"];let Fe;ye.includes(z)&&Ie===""?Fe=null:Fe=Ie;const Oe=Object.assign({},je);z==="max"&&delete Oe.min,z==="maxLength"&&delete Oe.minLength,delete Oe[z],_({type:ce.Ey,errors:Oe}),_({type:ce.P0,keys:z.split("."),value:Fe,...V})},[_,je]),Be=async(z,Ie=Qe)=>{z.preventDefault();try{await $o(),Vo(Ie);const Ue=p==="components"?U:pa;if(j)if(Qe)ot({...E,kind:T},m,pa),Ae({pathname:`/plugins/${w.Z}/content-types/${pa}`}),a({forTarget:p,targetUid:Ue});else{ro(be,E)?(e(),ca(E)):se({type:"warning",message:{id:"notification.contentType.relations.conflict"}});return}else if(m==="component")if(Qe){const V=(0,nt.N)(E.displayName,E.category),{category:ye,...Fe}=E;ot(Fe,"component",V,ye),Ae({pathname:`/plugins/${w.Z}/component-categories/${ye}/${V}`}),a({forTarget:p,targetUid:V})}else{Vt(E,m,U),e();return}else if(es){if(Pt()(fe.name)===Pt()(E.name)){e();return}ra(fe.name,E);return}else if(xe){const V={attributeToSet:{...E,customField:u},forTarget:p,targetUid:U,initialAttribute:fe};i==="edit"?la(V):Te(V),Ie?a({forTarget:p,targetUid:Ue}):e();return}else if(Re&&!Ye){if(l==="dynamiczone"){$e(E,p,U,i==="edit",fe),Qe?(_({type:ce.I}),L.current._handlers.setSelectedTabIndex(0),o({dynamicZoneTarget:E.name})):e();return}if(!ze){$e(E,p,U,i==="edit",fe),Ie?a({forTarget:p,targetUid:Ue}):e();return}if(it){r(),_({type:ce.yC,forTarget:p});return}$e(E,p,U,i==="edit",fe,!0),Ie?a({forTarget:p,targetUid:U}):e()}else if(Re&&Ye){if(it){$("willCreateComponentFromAttributesModal"),_({type:ce.oF,forTarget:p}),r();return}const{category:V,type:ye,...Fe}=bt,Oe=(0,nt.N)(bt.displayName,V);ot(Fe,ye,Oe,V,Ye),$e(E,p,U,!1),_({type:ce.c2}),Ie?a({forTarget:"components",targetUid:Oe}):e();return}else{if(it)if(Ye){const{category:V,type:ye,...Fe}=E.componentToCreate,Oe=(0,nt.N)(E.componentToCreate.displayName,V);ot(Fe,ye,Oe,V,Ye),ee(g,[Oe]),a({forTarget:"components",targetUid:Oe})}else oa(g,E.components),e();else console.error("This case is not handled");return}_({type:ce.c2})}catch(Ue){const V=(0,y.CJ)(Ue);console.log({err:Ue,errors:V}),_({type:ce.Ey,errors:V})}},jo=()=>{window.confirm(De({id:"window.confirm.close-modal.file",defaultMessage:"Are you sure? Your changes will be lost."}))&&(e(),_({type:ce.c2}))},as=()=>{Se()(E,fe)?(e(),_({type:ce.c2})):jo()},zo=z=>{if(z==="advanced"){if(j){$("didSelectContentTypeSettings");return}p==="contentType"&&$("didSelectContentTypeFieldSettings")}},Vo=z=>{m==="attribute"&&p==="contentType"&&l!=="dynamiczone"&&z&&$("willAddMoreFieldToContentType")},ko=()=>!!(m==="editCategory"||m==="component"||sn()(E,"createComponent")),Go=lo(p,U,da);if(!x||!m)return null;const ss=A()(qe,[m,"form"],{advanced:()=>({sections:[]}),base:()=>({sections:[]})}),Ho=p==="components"||p==="component",os={customInputs:{"allowed-types-select":ln,"boolean-radio-group":Dn,"checkbox-with-number-field":An,"icon-picker":Ms,"content-type-radio-group":Ln,"radio-group":ft,relation:_s,"select-category":Ks,"select-component":$s,"select-components":js,"select-default-boolean":On,"select-number":Vs,"select-date":zs,"toggle-draft-publish":xn,"text-plural":Cs,"text-singular":ks,"textarea-enum":Hs,...de},componentToCreate:bt,dynamicZoneTarget:g,formErrors:je,isAddingAComponentToAnotherComponent:Ho,isCreatingComponentWhileAddingAField:Rt,mainBoxHeader:A()(be,[...P,"schema","displayName"],""),modifiedData:E,naturePickerType:p,isCreating:Qe,targetUid:U,forTarget:p},is=ss.advanced({data:E,type:l,step:D,actionType:i,attributes:ga,extensions:me,forTarget:p,contentTypeSchema:be.contentType||{},customField:C}).sections,rs=ss.base({data:E,type:l,step:D,actionType:i,attributes:ga,extensions:me,forTarget:p,contentTypeSchema:be.contentType||{},customField:C}).sections,qo=$a(rs),Xo=$a(is),Yo=Object.keys(je).some(z=>qo.includes(z)),Qo=Object.keys(je).some(z=>Xo.includes(z)),Jo=A()(st,[U,"schema","kind"]),wo=()=>i==="edit"&&ga.every(({name:z})=>z!==E?.name),ei=()=>{wo()&&$("didEditFieldNameOnContentType")};return t.createElement(tn.P,{onClose:as,labelledBy:"title"},t.createElement(ls,{actionType:i,attributeName:c,categoryName:f,contentTypeKind:T,dynamicZoneTarget:g,modalType:m,forTarget:p,targetUid:U,attributeType:l,customFieldUid:u,showBackLink:R}),ts&&t.createElement(Rn,{attributes:Go,forTarget:p,kind:Jo||"collectionType"}),!ts&&t.createElement("form",{onSubmit:Be},t.createElement(Zt.f,null,t.createElement(Dt.v,{label:"todo",id:"tabs",variant:"simple",ref:L,onTabChange:z=>{z===1&&zo("advanced")}},t.createElement(v.k,{justifyContent:"space-between"},t.createElement(ds,{actionType:i,forTarget:p,kind:T,step:D,modalType:m,attributeType:l,attributeName:c,customField:C}),t.createElement(Ge.m,null,t.createElement(Ge.O,{hasError:Yo},De({id:(0,d.Z)("popUpForm.navContainer.base"),defaultMessage:"Basic settings"})),t.createElement(Ge.O,{hasError:Qo,disabled:ko()},De({id:(0,d.Z)("popUpForm.navContainer.advanced"),defaultMessage:"Advanced settings"})))),t.createElement(rt.i,null),t.createElement(N.x,{paddingTop:6},t.createElement(He.n,null,t.createElement(He.x,null,t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(Ia,{form:rs,formErrors:je,genericInputProps:os,modifiedData:E,onChange:ns}))),t.createElement(He.x,null,t.createElement(v.k,{direction:"column",alignItems:"stretch",gap:6},t.createElement(Ia,{form:is,formErrors:je,genericInputProps:os,modifiedData:E,onChange:ns}))))))),t.createElement(nn.m,{endActions:t.createElement(In,{deleteCategory:ia,deleteContentType:zt,deleteComponent:zt,categoryName:fe.name,isAttributeModal:m==="attribute",isCustomFieldModal:m==="customField",isComponentToDzModal:m==="addComponentToDynamicZone",isComponentAttribute:l==="component",isComponentModal:m==="component",isContentTypeModal:m==="contentType",isCreatingComponent:i==="create",isCreatingDz:i==="create",isCreatingComponentAttribute:E.createComponent||!1,isCreatingComponentInDz:E.createComponent||!1,isCreatingComponentWhileAddingAField:Rt,isCreatingContentType:i==="create",isEditingAttribute:i==="edit",isDzAttribute:l==="dynamiczone",isEditingCategory:m==="editCategory",isInFirstComponentStep:D==="1",onSubmitAddComponentAttribute:Be,onSubmitAddComponentToDz:Be,onSubmitCreateComponent:Be,onSubmitCreateContentType:Be,onSubmitCreateDz:Be,onSubmitEditAttribute:Be,onSubmitEditCategory:Be,onSubmitEditComponent:Be,onSubmitEditContentType:Be,onSubmitEditCustomFieldAttribute:Be,onSubmitEditDz:Be,onClickFinish:ei}),startActions:t.createElement(ie.z,{variant:"tertiary",onClick:as},De({id:"app.components.Button.cancel",defaultMessage:"Cancel"}))})))};var ve=n(97699),uo=n(21957);const mo=()=>e=>e[`${w.Z}_dataManagerProvider`]||uo.E,po=()=>(0,Ka.P1)(mo(),e=>e);var go=n(49204),fo=n.n(go),yo=n(74919),ja=n.n(yo),Eo=n(51006),ho=n.n(Eo);const vo=(e,a)=>{const o=Object.keys(e).filter(r=>{const i=A()(e,r,{}),c=A()(a,r,{}),l=A()(i,["isTemporary"],!1),u=!Se()(i,c);return l||u});return(0,ke.Z)(o)},Mo=(e,a)=>{const o=Va(A()(e,"schema.attributes",[]),a),r=A()(e,"isTemporary",!1)?{tmpUID:e.uid}:{uid:e.uid};return Object.assign({},r,{category:e.category},ja()(e.schema,"attributes"),{attributes:o})},za=(e,a=!1)=>{const o=A()(e,"uid",null),r=Va(A()(e,"schema.attributes",[]),o),i=a?{category:A()(e,"category","")}:{},c=Object.assign(i,ja()(e.schema,"attributes"),{attributes:r});return delete c.uid,delete c.isTemporary,delete c.visible,delete c.restrictRelationsTo,c},Va=(e,a)=>e.reduce((o,{name:r,...i})=>{const c=i,l=c.target===a,u=c.type==="relation",f=A()(c,"targetAttribute",null);if(!l)if(u){const g=Object.assign({},c,{targetAttribute:ka(f)});o[r]=jt(g)}else o[r]=jt(c);if(l){const g=c.target,p=Object.assign({},c,{target:g,targetAttribute:ka(f)});o[r]=jt(p)}if(c.customField){const g={...c,type:"customField"};o[r]=jt(g)}return o},{}),ka=e=>e==="-"?null:e,jt=e=>Object.keys(e).reduce((a,o)=>(e[o]!==null&&o!=="plugin"&&(a[o]=e[o]),a),{}),To=(e,a,o,r=!1)=>vo(e,a).map(l=>{const u=A()(e,l,{});return Mo(u,o,r)}),Co=e=>ho()(Object.keys(e).map(a=>({visible:e[a].schema.visible,name:a,title:e[a].schema.displayName,plugin:e[a].plugin||null,uid:a,to:`/plugins/${w.Z}/content-types/${a}`,kind:e[a].schema.kind,restrictRelationsTo:e[a].schema.restrictRelationsTo})).filter(a=>a!==null),a=>fo()(a.title)),Ga=e=>e.reduce((a,o)=>(a[o.uid]=o,a),{}),bo=(e,a,o,r)=>{const i=a.reduce((u,f)=>{const g=A()(o,f,{});return u[f]=g,u},{});return{[r?"contentType":"component"]:e,components:i}},Ro=e=>Object.keys(e).reduce((a,o)=>{const r=e[o].schema;return a[o]={...e[o],schema:{...r,attributes:Oo(r.attributes)}},a},{}),Oo=e=>Object.keys(e).reduce((a,o)=>(a.push({...e[o],name:o}),a),[]),Ha=Ro;var Zo=n(26223);const Do=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=A()(e,[r],{}),c=i.uid;return Po(i)&&o.push(c),o},[]);return(0,ke.Z)(a)},Po=e=>A()(e,["schema","attributes"],[]).some(o=>{const{type:r}=o;return r==="component"}),Ao=e=>{const a=Object.keys(e).reduce((o,r)=>{const i=e?.[r]?.schema?.attributes??[],c=Lo(i);return[...o,...c]},[]);return(0,ke.Z)(a)},Lo=e=>e.reduce((a,o)=>{const{type:r,component:i}=o;return r==="component"&&a.push(i),a},[]),qa=Ao,xo=(e,a)=>{const o=Object.keys(e).map(r=>A()(e,[r,...a],""));return(0,ke.Z)(o)},Xa="did-not-kill-server",Io="server is down";function Tt(e,a){return new Promise(o=>{fetch(`${window.strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(r=>{if(r.status>=400)throw new Error(Io);if(!a)throw new Error(Xa);o(e)}).catch(r=>{setTimeout(()=>Tt(e,r.message!==Xa).then(o),100)})})}const So=e=>Object.values(e.attributes).filter(({type:o})=>o==="dynamiczone").every(({components:o})=>Array.isArray(o)&&o.length>0),Ya=({children:e})=>{const a=(0,Ke.I0)(),{components:o,contentTypes:r,isLoading:i,isLoadingForDataToBeSet:c,initialData:l,modifiedData:u,reservedNames:f}=(0,Ke.v9)(po()),g=(0,y.lm)(),{lockAppWithAutoreload:p,unlockAppWithAutoreload:m}=(0,y.Vu)(),{setCurrentStep:x}=(0,y.c1)(),{getPlugin:R}=(0,y.j1)(),{apis:T}=R(w.Z),{autoReload:D}=(0,y.L7)(),{formatMessage:U}=(0,B.Z)(),{trackUsage:C}=(0,y.rS)(),{refetchPermissions:L}=(0,y.vn)(),{pathname:S}=(0,q.TH)(),{onCloseModal:_}=(0,Pe.Z)(),se=(0,q.$B)(`/plugins/${w.Z}/content-types/:uid`),Me=(0,q.$B)(`/plugins/${w.Z}/component-categories/:categoryUid/:componentUid`),Ae=(0,y.kY)(),{put:$,post:De,del:oe}=Ae,Le=(0,t.useRef)();Le.current=U;const me=D,de=se!==null,$e=de?"contentType":"component",Te=de?A()(se,"params.uid",null):A()(Me,"params.componentUid",null),ee=(0,t.useRef)(),O=de?"content-types":"components";ee.current=async()=>{try{const[{data:{data:E}},{data:{data:P}},{data:j}]=await Promise.all(["components","content-types","reserved-names"].map(Qe=>Ae.get(`/${w.Z}/${Qe}`))),pe=Ga(E),Re=Ha(pe),xe=Ga(P),ze=Ha(xe);a({type:ve.Id,components:Re,contentTypes:ze,reservedNames:j})}catch(E){console.error({err:E}),g({type:"warning",message:{id:"notification.error"}})}},(0,t.useEffect)(()=>(ee.current(),()=>{a({type:ve.Zl})}),[]),(0,t.useEffect)(()=>{!i&&Te&&Vt()},[i,S,Te]),(0,t.useEffect)(()=>{D||g({type:"info",message:{id:(0,d.Z)("notification.info.autoreaload-disable")}})},[D,g]);const oa=(E,P,j,pe=!1,Re,xe=!1)=>{const ze=pe?ve.JO:ve.gz;a({type:ze,attributeToSet:E,forTarget:P,targetUid:j,initialAttribute:Re,shouldAddComponentToData:xe})},st=({attributeToSet:E,forTarget:P,targetUid:j,initialAttribute:pe})=>{a({type:ve.Ir,attributeToSet:E,forTarget:P,targetUid:j,initialAttribute:pe})},Ct=({attributeToSet:E,forTarget:P,targetUid:j,initialAttribute:pe})=>{a({type:ve.Ly,attributeToSet:E,forTarget:P,targetUid:j,initialAttribute:pe})},ot=(E,P)=>{a({type:ve.Uu,dynamicZoneTarget:E,componentsToAdd:P})},ia=(E,P,j,pe,Re=!1)=>{const xe=P==="contentType"?ve.Sh:ve.VR;a({type:xe,data:E,componentCategory:pe,schemaType:P,uid:j,shouldAddComponentToData:Re})},zt=(E,P)=>{a({type:ve.o_,dynamicZoneTarget:E,newComponents:P})},ra=(E,P,j="")=>{const pe=E==="components"?ve.lw:ve.ai;E==="contentType"&&C("willDeleteFieldOfContentType"),a({type:pe,mainDataKey:E,attributeToRemoveName:P,componentUid:j})},la=async E=>{try{const P=`/${w.Z}/component-categories/${E}`,j=window.confirm(U({id:(0,d.Z)("popUpWarning.bodyMessage.category.delete")}));_(),j&&(p(),await oe(P),await Tt(!0),await m(),await fe())}catch(P){console.error({err:P}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},ca=async()=>{try{const E=`/${w.Z}/${O}/${Te}`,P=A()(u,[$e,"isTemporary"],!1),j=window.confirm(U({id:(0,d.Z)(`popUpWarning.bodyMessage.${de?"contentType":"component"}.delete`)}));if(_(),j){if(P){a({type:ve.Ap});return}p(),await oe(E),await Tt(!0),await m(),await fe()}}catch(E){console.error({err:E}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},be=async(E,P)=>{try{const j=`/${w.Z}/component-categories/${E}`;_(),p(),await $(j,P),await Tt(!0),await m(),await fe()}catch(j){console.error({err:j}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},da=()=>{const E=Object.assign({},o,u.components);if(!de){const j=A()(u,"component",{});Ot()(E,A()(j,["uid"],""),j)}const P=Do(E);return(0,ke.Z)(P)},ua=()=>{const E=qa(o),P=qa(u.components||{});return(0,ke.Z)([...P,...E])},ma=(E,P)=>{a({type:ve.NG,dzName:E,componentToRemoveIndex:P})},Vt=()=>{const E=de?r:o,P=A()(E,Te,{schema:{attributes:[]}}),j=(0,Zo.Z)(P.schema.attributes,o),pe=bo(P,j,o,de),Re=A()(P,"isTemporary",!1)&&Jt()(A()(P,"schema.attributes",[]))===0;a({type:ve.xx,schemaToSet:pe,hasJustCreatedSchema:Re})},Xe=(0,t.useMemo)(()=>{const E=de?r:o;return Te==="create-content-type"?!1:!Object.keys(E).includes(Te)&&!i},[o,r,Te,de,i]),bt=(0,t.useMemo)(()=>{const E=Object.keys(r).filter(P=>A()(r,[P,"schema","visible"],!0)).sort();return A()(E,"0","create-content-type")},[r]);if(Xe)return t.createElement(q.l_,{to:`/plugins/${w.Z}/content-types/${bt}`});const je=async E=>{try{const P=A()(u,[$e,"isTemporary"],!1),j={components:To(u.components,o,Te,P)};if(de){const xe=T.forms.mutateContentTypeSchema({...za(u.contentType),...E},l.contentType);if(!So(xe)){g({type:"warning",message:{id:(0,d.Z)("notification.error.dynamiczone-min.validation"),defaultMessage:"At least one component is required in a dynamic zone to be able to save a content type"}});return}j.contentType=xe,C("willSaveContentType")}else j.component=za(u.component,!0),C("willSaveComponent");p();const pe=`/${w.Z}/${O}`,Re=P?pe:`${pe}/${Te}`;if(P?await De(Re,j):await $(Re,j),await Tt(!0),await m(),P&&(l.contentType?.schema.kind==="collectionType"||l.contentType?.schema.kind==="singleType")&&x("contentTypeBuilder.success"),de){C("didSaveContentType");const xe=A()(j,["contentType","schema","name"],""),ze=A()(l,["contentType","schema","name"],"");!P&&xe!==ze&&C("didEditNameOfContentType")}else C("didSaveComponent");await fe()}catch(P){de||C("didNotSaveComponent"),console.error({err:P.response}),g({type:"warning",message:{id:"notification.error"}})}finally{m()}},fe=async()=>{await L()},Rt=(E,P,j)=>{a({type:ve.bi,data:E,schemaType:P,uid:j})};return t.createElement(en.Z.Provider,{value:{addAttribute:oa,addCustomFieldAttribute:st,addCreatedComponentToDynamicZone:ot,allComponentsCategories:xo(o,["category"]),changeDynamicZoneComponents:zt,components:o,componentsGroupedByCategory:Xt()(o,"category"),componentsThatHaveOtherComponentInTheirAttributes:da(),contentTypes:r,createSchema:ia,deleteCategory:la,deleteData:ca,editCategory:be,editCustomFieldAttribute:Ct,isInDevelopmentMode:me,initialData:l,isInContentTypeView:de,modifiedData:u,nestedComponents:ua(),removeAttribute:ra,removeComponentFromDynamicZone:ma,reservedNames:f,setModifiedData:Vt,sortedContentTypesList:Co(r),submitData:je,updateSchema:Rt}},c?t.createElement(y.dO,null):t.createElement(t.Fragment,null,e,me&&t.createElement(co,null)))};Ya.propTypes={children:s().node.isRequired};const Bo=(0,t.memo)(Ya);var Uo=n(6356);const Qa={actionType:null,attributeName:null,attributeType:null,categoryName:null,dynamicZoneTarget:null,forTarget:null,modalType:null,isOpen:!1,showBackLink:!1,kind:null,step:null,targetUid:null,customFieldUid:null},Ja=({children:e})=>{const[a,o]=(0,t.useState)(Qa),{trackUsage:r}=(0,y.rS)(),i=({attributeType:C,customFieldUid:L})=>{o(S=>({...S,actionType:"create",modalType:"customField",attributeType:C,customFieldUid:L}))},c=({attributeType:C,step:L})=>{a.forTarget==="contentType"&&r("didSelectContentTypeFieldType",{type:C}),o(S=>({...S,actionType:"create",modalType:"attribute",step:L,attributeType:C,showBackLink:!0}))},l=({dynamicZoneTarget:C,targetUid:L})=>{o(S=>({...S,dynamicZoneTarget:C,targetUid:L,modalType:"addComponentToDynamicZone",forTarget:"contentType",step:"1",actionType:"edit",isOpen:!0}))},u=({forTarget:C,targetUid:L})=>{o(S=>({...S,actionType:"create",forTarget:C,targetUid:L,modalType:"chooseAttribute",isOpen:!0,showBackLink:!1}))},f=C=>{o(L=>({...L,...C,isOpen:!0}))},g=C=>{o(L=>({...L,categoryName:C,actionType:"edit",modalType:"editCategory",isOpen:!0}))},p=({forTarget:C,targetUid:L,attributeName:S,attributeType:_,customFieldUid:se})=>{o(Me=>({...Me,modalType:"customField",customFieldUid:se,actionType:"edit",forTarget:C,targetUid:L,attributeName:S,attributeType:_,isOpen:!0}))},m=({forTarget:C,targetUid:L,attributeName:S,attributeType:_,step:se})=>{o(Me=>({...Me,modalType:"attribute",actionType:"edit",forTarget:C,targetUid:L,attributeName:S,attributeType:_,step:se,isOpen:!0}))},x=({modalType:C,forTarget:L,targetUid:S,kind:_})=>{o(se=>({...se,modalType:C,actionType:"edit",forTarget:L,targetUid:S,kind:_,isOpen:!0}))},R=()=>{o(Qa)},T=({forTarget:C,targetUid:L})=>{o(S=>({...S,forTarget:C,targetUid:L,modalType:"chooseAttribute"}))},D=()=>{o(C=>({...C,attributeType:"component",modalType:"attribute",step:"2"}))},U=({dynamicZoneTarget:C})=>{o(L=>({...L,dynamicZoneTarget:C,modalType:"addComponentToDynamicZone",actionType:"create",step:"1",attributeType:null,attributeName:null}))};return t.createElement(Uo.Z.Provider,{value:{...a,onClickSelectField:c,onClickSelectCustomField:i,onCloseModal:R,onNavigateToChooseAttributeModal:T,onNavigateToAddCompoToDZModal:U,onOpenModalAddComponentsToDZ:l,onNavigateToCreateComponentStep2:D,onOpenModalAddField:u,onOpenModalCreateSchema:f,onOpenModalEditCategory:g,onOpenModalEditField:m,onOpenModalEditCustomField:p,onOpenModalEditSchema:x,setFormModalNavigationState:o}},e)};Ja.propTypes={children:s().node.isRequired};const Fo=Ja;var _o=n(5391);const No=(0,t.lazy)(()=>n.e(5905).then(n.bind(n,3500))),Wo=()=>{const{url:e}=(0,q.$B)(),{categoryUid:a}=(0,q.UO)();return t.createElement(t.Suspense,{fallback:t.createElement(y.dO,null)},t.createElement(q.rs,null,t.createElement(q.AW,{path:`${e}/:componentUid`},t.createElement(No,{categoryId:a}))))},wa=(0,t.lazy)(()=>n.e(5905).then(n.bind(n,3500))),Ko=()=>{const{formatMessage:e}=(0,B.Z)(),a=e({id:`${w.Z}.plugin.name`,defaultMessage:"Content Types Builder"}),{startSection:o}=(0,y.c1)(),r=(0,t.useRef)(o);return(0,t.useEffect)(()=>{r.current&&r.current("contentTypeBuilder")},[]),t.createElement(y.O4,{permissions:_o._.main},t.createElement(k.q,{title:a}),t.createElement(Fo,null,t.createElement(Bo,null,t.createElement(ne.A,{sideNav:t.createElement(Gt,null)},t.createElement(t.Suspense,{fallback:t.createElement(y.dO,null)},t.createElement(q.rs,null,t.createElement(q.AW,{path:`/plugins/${w.Z}/content-types/create-content-type`,component:wa}),t.createElement(q.AW,{path:`/plugins/${w.Z}/content-types/:uid`,component:wa}),t.createElement(q.AW,{path:`/plugins/${w.Z}/component-categories/:categoryUid`,component:Wo})))))))}},90635:(Ee,te,n)=>{"use strict";n.d(te,{Z:()=>y});var t=n(72966);const y=k=>`${t.Z}.${k}`},22107:(Ee,te,n)=>{var t=n(13578),ne=n(27138),y="[object RegExp]";function k(B){return ne(B)&&t(B)==y}Ee.exports=k},50156:(Ee,te,n)=>{var t=n(22107),ne=n(20435),y=n(25336),k=y&&y.isRegExp,B=k?ne(k):t;Ee.exports=B},88702:(Ee,te,n)=>{var t=n(63546),ne=n(82311),y=n(11993),k=n(3243),B=n(50156),q=n(30930),N=n(66734),le=n(69740),ae=n(16946),Ne=30,Q="...",W=/\w*$/;function F(b,X){var K=Ne,Y=Q;if(k(X)){var v="separator"in X?X.separator:v;K="length"in X?le(X.length):K,Y="omission"in X?t(X.omission):Y}b=ae(b);var I=b.length;if(y(b)){var J=N(b);I=J.length}if(K>=I)return b;var G=K-q(Y);if(G<1)return Y;var H=J?ne(J,0,G).join(""):b.slice(0,G);if(v===void 0)return H+Y;if(J&&(G+=H.length-G),B(v)){if(b.slice(G).search(v)){var re,ge=H;for(v.global||(v=RegExp(v.source,ae(W.exec(v))+"g")),v.lastIndex=0;re=v.exec(ge);)var ue=re.index;H=H.slice(0,ue===void 0?G:ue)}}else if(b.indexOf(t(v),G)!=G){var Ze=H.lastIndexOf(v);Ze>-1&&(H=H.slice(0,Ze))}return H+Y}Ee.exports=F},57150:(Ee,te,n)=>{"use strict";n.d(te,{P1:()=>ae});var t="NOT_FOUND";function ne(Q){var W;return{get:function(b){return W&&Q(W.key,b)?W.value:t},put:function(b,X){W={key:b,value:X}},getEntries:function(){return W?[W]:[]},clear:function(){W=void 0}}}function y(Q,W){var F=[];function b(v){var I=F.findIndex(function(G){return W(v,G.key)});if(I>-1){var J=F[I];return I>0&&(F.splice(I,1),F.unshift(J)),J.value}return t}function X(v,I){b(v)===t&&(F.unshift({key:v,value:I}),F.length>Q&&F.pop())}function K(){return F}function Y(){F=[]}return{get:b,put:X,getEntries:K,clear:Y}}var k=function(W,F){return W===F};function B(Q){return function(F,b){if(F===null||b===null||F.length!==b.length)return!1;for(var X=F.length,K=0;K<X;K++)if(!Q(F[K],b[K]))return!1;return!0}}function q(Q,W){var F=typeof W=="object"?W:{equalityCheck:W},b=F.equalityCheck,X=b===void 0?k:b,K=F.maxSize,Y=K===void 0?1:K,v=F.resultEqualityCheck,I=B(X),J=Y===1?ne(I):y(Y,I);function G(){var H=J.get(arguments);if(H===t){if(H=Q.apply(null,arguments),v){var re=J.getEntries(),ge=re.find(function(ue){return v(ue.value,H)});ge&&(H=ge.value)}J.put(arguments,H)}return H}return G.clearCache=function(){return J.clear()},G}function N(Q){var W=Array.isArray(Q[0])?Q[0]:Q;if(!W.every(function(b){return typeof b=="function"})){var F=W.map(function(b){return typeof b=="function"?"function "+(b.name||"unnamed")+"()":typeof b}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+F+"]")}return W}function le(Q){for(var W=arguments.length,F=new Array(W>1?W-1:0),b=1;b<W;b++)F[b-1]=arguments[b];var X=function(){for(var Y=arguments.length,v=new Array(Y),I=0;I<Y;I++)v[I]=arguments[I];var J=0,G,H={memoizeOptions:void 0},re=v.pop();if(typeof re=="object"&&(H=re,re=v.pop()),typeof re!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof re+"]");var ge=H,ue=ge.memoizeOptions,Ze=ue===void 0?F:ue,Ce=Array.isArray(Ze)?Ze:[Ze],_e=N(v),d=Q.apply(void 0,[function(){return J++,re.apply(null,arguments)}].concat(Ce)),Ve=Q(function(){for(var he=[],Pe=_e.length,w=0;w<Pe;w++)he.push(_e[w].apply(null,arguments));return G=d.apply(null,he),G});return Object.assign(Ve,{resultFunc:re,memoizedResultFunc:d,dependencies:_e,lastResult:function(){return G},recomputations:function(){return J},resetRecomputations:function(){return J=0}}),Ve};return X}var ae=le(q),Ne=function(W,F){if(F===void 0&&(F=ae),typeof W!="object")throw new Error("createStructuredSelector expects first argument to be an object "+("where each property is a selector, instead received a "+typeof W));var b=Object.keys(W),X=F(b.map(function(K){return W[K]}),function(){for(var K=arguments.length,Y=new Array(K),v=0;v<K;v++)Y[v]=arguments[v];return Y.reduce(function(I,J,G){return I[b[G]]=J,I},{})});return X}},83:(Ee,te,n)=>{"use strict";n.d(te,{Q:()=>Ne});var t=n(74081),ne=n(27279),y=n(47533),k=n(19003),B=n(62629),q=n(8976),N=n(10701),le=n(32370);const ae=(0,k.default)(q.G)`
  &[aria-disabled='true'] {
    ${B.sg}
    &:active {
      ${B.sg}
    }
  }
  &:hover {
    ${B.yP}
  }
  &:active {
    ${B.tB}
  }
  ${B.PD}
`,Ne=ne.forwardRef(({variant:Q="default",startIcon:W,endIcon:F,disabled:b=!1,children:X,size:K="S",href:Y,to:v,...I},J)=>{const G=Y?"_blank":void 0,H=Y?"noreferrer noopener":void 0,re=K==="S"?2:"10px",ge=4;return(0,t.jsxs)(ae,{ref:J,"aria-disabled":b,size:K,variant:Q,target:G,rel:H,to:b?void 0:v,href:b?"#":Y,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:re,paddingLeft:ge,paddingRight:ge,paddingTop:re,pointerEvents:b?"none":void 0,...I,as:v&&!b?y.OL:"a",children:[W&&(0,t.jsx)(N.k,{"aria-hidden":!0,children:W}),(0,t.jsx)(le.Z,{variant:K==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:X}),F&&(0,t.jsx)(N.k,{"aria-hidden":!0,children:F})]})})},61181:(Ee,te,n)=>{"use strict";n.d(te,{Q:()=>k});var t=n(74081),ne=n(19003),y=n(97232);const k=({options:q,...N})=>(0,t.jsx)(y.NU,{...N,children:q.map(le=>"children"in le?(0,t.jsx)(y.Ab,{label:le.label,values:le.children.map(ae=>ae.value.toString()),children:le.children.map(ae=>(0,t.jsx)(B,{value:ae.value,children:ae.label},ae.value))},le.label):(0,t.jsx)(y.ML,{value:le.value,children:le.label},le.value))}),B=(0,ne.default)(y.ML)`
  padding-left: ${({theme:q})=>q.spaces[7]};
`}}]);
