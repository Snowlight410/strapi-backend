"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[349],{40784:(C,g,t)=>{t.d(g,{r:()=>c});var e=t(74081),n=t(93415),o=t(67621),T=t.n(o);function v(i,d,E){if(!i||!d||!E)return{display:"none"};const{x:s,y:a}=E;return{transform:`translate(${s}px, ${a}px)`}}const c=({renderItem:i})=>{const{itemType:d,isDragging:E,item:s,initialOffset:a,currentOffset:l,mouseOffset:O}=(0,o.useDragLayer)(u=>({item:u.getItem(),itemType:u.getItemType(),initialOffset:u.getInitialSourceClientOffset(),currentOffset:u.getSourceClientOffset(),isDragging:u.isDragging(),mouseOffset:u.getClientOffset()}));return E?(0,e.jsx)(n.x,{height:"100%",left:0,position:"fixed",pointerEvents:"none",top:0,zIndex:100,width:"100%",children:(0,e.jsx)(n.x,{style:v(a,l,O),children:i({type:d,item:s})})}):null}},18450:(C,g,t)=>{t.d(g,{G:()=>v});var e=t(27279),n=t(75307),o=t(53532),T=t(40464);function v(){const{get:c}=(0,n.kY)(),{formatAPIError:i}=(0,n.So)(),d=(0,n.lm)(),E=(0,T.useQueries)([{queryKey:["content-manager","components"],async queryFn(){const{data:{data:r}}=await c("/content-manager/components");return r},onError(r){r instanceof o.d7&&d({type:"warning",message:i(r)})}},{queryKey:["content-manager","content-types"],async queryFn(){const{data:{data:r}}=await c("/content-manager/content-types");return r},onError(r){r instanceof o.d7&&d({type:"warning",message:i(r)})}}]),[s,a]=E,l=s.isLoading||a.isLoading,O=e.useMemo(()=>(a?.data??[]).filter(r=>r.kind==="collectionType"&&r.isDisplayed),[a?.data]),u=e.useMemo(()=>(a?.data??[]).filter(r=>r.kind!=="collectionType"&&r.isDisplayed),[a?.data]);return{isLoading:l,components:e.useMemo(()=>s?.data??[],[s?.data]),collectionTypes:O,singleTypes:u}}},75021:(C,g,t)=>{t.d(g,{q:()=>T});var e=t(27279),n=t(75307),o=t(40464);function T({enabled:v}={enabled:!0}){const{get:c}=(0,n.kY)(),{data:i,isError:d,isLoading:E}=(0,o.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:l}}=await c("/admin/license-limit-information");return l},{enabled:v}),s=e.useMemo(()=>i??{},[i]),a=e.useCallback(l=>(s?.features??[]).find(u=>u.name===l)?.options??{},[s?.features]);return{license:s,getFeature:a,isError:d,isLoading:E}}},43390:(C,g,t)=>{t.d(g,{eJ:()=>W,lx:()=>M,h4:()=>y,fC:()=>P});var e=t(27279),n=t(27997),o=t(9941),T=t(74758),v=t(27875),c=t(75307),i=t(76827),d=t(61020),E=t(40784),s=t(86978),a=t(10701),l=t(32370),O=t(10411),u=t(70627),r=t.n(u),L=t(19003);const D=(0,L.default)(a.k)`
  svg path {
    fill: ${({theme:w})=>w.colors.neutral600};
  }
`;function h({name:w}){return e.createElement(a.k,{background:"primary100",borderStyle:"dashed",borderColor:"primary600",borderWidth:"1px",gap:3,hasRadius:!0,padding:3,shadow:"tableShadow",width:(0,c.Q1)(300)},e.createElement(D,{alignItems:"center",background:"neutral200",borderRadius:"50%",height:6,justifyContent:"center",width:6},e.createElement(O.Z,{width:`${8/16}rem`})),e.createElement(l.Z,{fontWeight:"bold"},w))}h.propTypes={name:r().string.isRequired};function S({type:w,item:p}){switch(w){case s.uL.STAGE:return e.createElement(h,{...p});default:return null}}function M(){return e.createElement(E.r,{renderItem:S})}function P({children:w}){return e.createElement(n.A,null,e.createElement(o.o,{tabIndex:-1},e.createElement(T.D,null,w)))}function W({href:w}){const{formatMessage:p}=(0,d.Z)();return e.createElement(c.rU,{startIcon:e.createElement(i.Z,null),to:w},p({id:"global.back",defaultMessage:"Back"}))}function y({title:w,subtitle:p,navigationAction:R,primaryAction:A}){return e.createElement(e.Fragment,null,e.createElement(c.SL,{name:w}),e.createElement(v.T,{navigationAction:R,primaryAction:A,title:w,subtitle:p}))}},38705:(C,g,t)=>{t.d(g,{uT:()=>S,fC:()=>W,Dx:()=>h});var e=t(27279),n=t(32370),o=t(10701),T=t(5938),v=t(15244),c=t(93415),i=t(4987),d=t(37370),E=t(95066),s=t(70627),a=t.n(s),l=t(61020),O=t(19003);const u=t.p+"0cd5f8915b265d5b1856.png",r="limits-title",L="https://strapi.io/pricing-cloud",D="https://strapi.io/contact-sales";function h({children:y}){return e.createElement(n.Z,{variant:"alpha",id:r},y)}h.propTypes={children:a().node.isRequired};function S({children:y}){return e.createElement(n.Z,{variant:"omega"},y)}S.propTypes={children:a().node.isRequired};function M(){const{formatMessage:y}=(0,l.Z)();return e.createElement(o.k,{gap:2,paddingTop:4},e.createElement(d.Q,{variant:"default",isExternal:!0,href:L},y({id:"Settings.review-workflows.limit.cta.learn",defaultMessage:"Learn more"})),e.createElement(d.Q,{variant:"tertiary",isExternal:!0,href:D},y({id:"Settings.review-workflows.limit.cta.sales",defaultMessage:"Contact Sales"})))}const P=O.default.img`
  // Margin top|right reverse the padding of ModalBody
  margin-right: ${({theme:y})=>`-${y.spaces[7]}`};
  margin-top: ${({theme:y})=>`-${y.spaces[7]}`};
  width: 360px;
`;function W({children:y,isOpen:w,onClose:p}){const{formatMessage:R}=(0,l.Z)();return w?e.createElement(T.P,{labelledBy:r},e.createElement(v.f,null,e.createElement(o.k,{gap:2,paddingLeft:7,position:"relative"},e.createElement(o.k,{alignItems:"start",direction:"column",gap:2,width:"60%"},y,e.createElement(M,null)),e.createElement(o.k,{justifyContent:"end",height:"100%",width:"40%"},e.createElement(P,{src:u,"aria-hidden":!0,alt:"",loading:"lazy"}),e.createElement(c.x,{display:"flex",position:"absolute",right:0,top:0},e.createElement(i.h,{icon:e.createElement(E.Z,null),"aria-label":R({id:"global.close",defaultMessage:"Close"}),onClick:p})))))):null}W.defaultProps={isOpen:!1},W.propTypes={children:a().node.isRequired,isOpen:a().bool,onClose:a().func.isRequired}},86978:(C,g,t)=>{t.d(g,{$k:()=>u,Ef:()=>S,FT:()=>D,Nj:()=>l,Ot:()=>s,QM:()=>d,VS:()=>r,_X:()=>M,bc:()=>a,gu:()=>o,k_:()=>O,lv:()=>L,qZ:()=>i,rg:()=>v,sN:()=>n,uL:()=>h,x4:()=>E,yq:()=>T,zn:()=>c});var e=t(97003);const n="settings_review-workflows",o="Settings/Review_Workflows/RESET_WORKFLOW",T="Settings/Review_Workflows/SET_CONTENT_TYPES",v="Settings/Review_Workflows/SET_IS_LOADING",c="Settings/Review_Workflows/SET_ROLES",i="Settings/Review_Workflows/SET_WORKFLOW",d="Settings/Review_Workflows/SET_WORKFLOWS",E="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",s="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",a="Settings/Review_Workflows/WORKFLOW_CLONE_STAGE",l="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",O="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGES",u="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",r="Settings/Review_Workflows/WORKFLOW_UPDATE",L={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},D=e.W.colors.primary600,h={STAGE:"stage"},S="numberOfWorkflows",M="stagesPerWorkflow"},52258:(C,g,t)=>{t.d(g,{n:()=>T});var e=t(27279),n=t(75307),o=t(40464);function T(v={}){const{get:c}=(0,n.kY)(),{id:i="",...d}=v,E={populate:"stages"},{data:s,isLoading:a,status:l,refetch:O}=(0,o.useQuery)(["review-workflows","workflows",i],async()=>(await c(`/admin/review-workflows/workflows/${i}`,{params:{...E,...d}})).data),u=e.useMemo(()=>i&&s?.data?[s.data]:Array.isArray(s?.data)?s.data:[],[s?.data,i]);return{meta:e.useMemo(()=>s?.meta??{},[s?.meta]),workflows:u,isLoading:a,status:l,refetch:O}}},26259:(C,g,t)=>{t.r(g),t.d(g,{default:()=>X});var e=t(27279),n=t(75307),o=t(59461),T=t(36364),v=t(10701),c=t(77970),i=t(70774),d=t(38566),E=t(38101),s=t(93153),a=t(50086),l=t(32370),O=t(10989),u=t(86967),r=t(4987),L=t(36938),D=t(26784),h=t(78665),S=t(61020),M=t(40464),P=t(51447),W=t(19003),y=t(18450),w=t(75021),p=t(43390),R=t(38705),A=t(86978),Y=t(52258);const V=(0,W.default)(n.rU)`
  align-items: center;
  height: ${(0,n.Q1)(32)};
  display: flex;
  justify-content: center;
  padding: ${({theme:f})=>`${f.spaces[2]}}`};
  width: ${(0,n.Q1)(32)};

  svg {
    height: ${(0,n.Q1)(12)};
    width: ${(0,n.Q1)(12)};

    path {
      fill: ${({theme:f})=>f.colors.neutral500};
    }
  }

  &:hover,
  &:focus {
    svg {
      path {
        fill: ${({theme:f})=>f.colors.neutral800};
      }
    }
  }
`;function z(){const{formatMessage:f}=(0,S.Z)(),{push:F}=(0,P.k6)(),{collectionTypes:J,singleTypes:b,isLoading:_}=(0,y.G)(),{meta:x,workflows:$,isLoading:K,refetch:q}=(0,Y.n)(),[j,k]=e.useState(null),[ee,B]=e.useState(!1),{del:te}=(0,n.kY)(),{formatAPIError:ne}=(0,n.So)(),G=(0,n.lm)(),{getFeature:se,isLoading:Z}=(0,w.q)(),{trackUsage:Q}=(0,n.rS)(),ae=(0,o.v9)(T._),{allowedActions:{canCreate:H,canDelete:oe}}=(0,n.ss)(ae.settings["review-workflows"]),I=se("review-workflows"),{mutateAsync:le,isLoading:re}=(0,M.useMutation)(async({workflowId:m,stages:N})=>{const{data:{data:U}}=await te(`/admin/review-workflows/workflows/${m}`,{data:N});return U},{onSuccess(){G({type:"success",message:{id:"notification.success.deleted",defaultMessage:"Deleted"}})}}),ie=m=>[...J,...b].find(U=>U.uid===m).info.displayName,de=m=>{k(m)},ce=()=>{k(null)},Ee=async()=>{try{const m=await le({workflowId:j});return await q(),k(null),m}catch(m){return G({type:"warning",message:ne(m)}),null}};return e.useEffect(()=>{!K&&!Z&&I?.[A.Ef]&&x?.workflowCount>parseInt(I[A.Ef],10)&&B(!0)},[Z,K,I,x?.workflowCount,x.workflowsTotal]),e.createElement(e.Fragment,null,e.createElement(p.h4,{primaryAction:H&&e.createElement(n.Qj,{startIcon:e.createElement(L.Z,null),size:"S",to:"/settings/review-workflows/create",onClick:m=>{I?.[A.Ef]&&x?.workflowCount>=parseInt(I[A.Ef],10)?(m.preventDefault(),B(!0)):Q("willCreateWorkflow")}},f({id:"Settings.review-workflows.list.page.create",defaultMessage:"Create new workflow"})),subtitle:f({id:"Settings.review-workflows.list.page.subtitle",defaultMessage:"Manage your content review process"}),title:f({id:"Settings.review-workflows.list.page.title",defaultMessage:"Review Workflows"})}),e.createElement(p.fC,null,K||_?e.createElement(v.k,{justifyContent:"center"},e.createElement(c.a,null,f({id:"Settings.review-workflows.page.list.isLoading",defaultMessage:"Workflows are loading"}))):e.createElement(i.i,{colCount:3,footer:H&&e.createElement(d.c,{icon:e.createElement(L.Z,null),onClick:()=>{I?.[A.Ef]&&x?.workflowCount>=parseInt(I[A.Ef],10)?B(!0):(F("/settings/review-workflows/create"),Q("willCreateWorkflow"))}},f({id:"Settings.review-workflows.list.page.create",defaultMessage:"Create new workflow"})),rowCount:1},e.createElement(E.h,null,e.createElement(s.Tr,null,e.createElement(a.Th,null,e.createElement(l.Z,{variant:"sigma"},f({id:"Settings.review-workflows.list.page.list.column.name.title",defaultMessage:"Name"}))),e.createElement(a.Th,null,e.createElement(l.Z,{variant:"sigma"},f({id:"Settings.review-workflows.list.page.list.column.stages.title",defaultMessage:"Stages"}))),e.createElement(a.Th,null,e.createElement(l.Z,{variant:"sigma"},f({id:"Settings.review-workflows.list.page.list.column.contentTypes.title",defaultMessage:"Content Types"}))),e.createElement(a.Th,null,e.createElement(O.T,null,f({id:"Settings.review-workflows.list.page.list.column.actions.title",defaultMessage:"Actions"}))))),e.createElement(u.p,null,$.map(m=>e.createElement(s.Tr,{...(0,n.X7)({fn(N){N.target.nodeName!=="BUTTON"&&F(`/settings/review-workflows/${m.id}`)}}),key:`workflow-${m.id}`},e.createElement(a.Td,{width:(0,n.Q1)(250)},e.createElement(l.Z,{textColor:"neutral800",fontWeight:"bold",ellipsis:!0},m.name)),e.createElement(a.Td,null,e.createElement(l.Z,{textColor:"neutral800"},m.stages.length)),e.createElement(a.Td,null,e.createElement(l.Z,{textColor:"neutral800"},(m?.contentTypes??[]).map(ie).join(", "))),e.createElement(a.Td,null,e.createElement(v.k,{alignItems:"center",justifyContent:"end"},e.createElement(V,{to:`/settings/review-workflows/${m.id}`,"aria-label":f({id:"Settings.review-workflows.list.page.list.column.actions.edit.label",defaultMessage:"Edit {name}"},{name:m.name})},e.createElement(D.Z,null)),$.length>1&&oe&&e.createElement(r.h,{"aria-label":f({id:"Settings.review-workflows.list.page.list.column.actions.delete.label",defaultMessage:"Delete {name}"},{name:"Default workflow"}),icon:e.createElement(h.Z,null),noBorder:!0,onClick:()=>{de(m.id)}}))))))),e.createElement(n.QH,{bodyText:{id:"Settings.review-workflows.list.page.delete.confirm.body",defaultMessage:"If you remove this worfklow, all stage-related information will be removed for this content-type. Are you sure you want to remove it?"},isConfirmButtonLoading:re,isOpen:!!j,onToggleDialog:ce,onConfirm:Ee}),e.createElement(R.fC,{isOpen:ee,onClose:()=>B(!1)},e.createElement(R.Dx,null,f({id:"Settings.review-workflows.list.page.workflows.limit.title",defaultMessage:"You\u2019ve reached the limit of workflows in your plan"})),e.createElement(R.uT,null,f({id:"Settings.review-workflows.list.page.workflows.limit.body",defaultMessage:"Delete a workflow or contact Sales to enable more workflows."})))))}function X(){const f=(0,o.v9)(T._);return e.createElement(n.O4,{permissions:f.settings["review-workflows"].main},e.createElement(z,null))}},38566:(C,g,t)=>{t.d(g,{c:()=>E});var e=t(74081),n=t(19003),o=t(93415),T=t(84366),v=t(10701),c=t(32370);const i=(0,n.default)(o.x)`
  height: ${24/16}rem;
  width: ${24/16}rem;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;

  svg {
    height: ${10/16}rem;
    width: ${10/16}rem;
  }

  svg path {
    fill: ${({theme:s})=>s.colors.primary600};
  }
`,d=(0,n.default)(o.x)`
  border-radius: 0 0 ${({theme:s})=>s.borderRadius} ${({theme:s})=>s.borderRadius};
  display: block;
  width: 100%;
  border: none;
`,E=({children:s,icon:a,...l})=>(0,e.jsxs)("div",{children:[(0,e.jsx)(T.i,{}),(0,e.jsx)(d,{as:"button",background:"primary100",padding:5,...l,children:(0,e.jsxs)(v.k,{children:[(0,e.jsx)(i,{"aria-hidden":!0,background:"primary200",children:a}),(0,e.jsx)(o.x,{paddingLeft:3,children:(0,e.jsx)(c.Z,{variant:"pi",fontWeight:"bold",textColor:"primary600",children:s})})]})})]})},53532:(C,g,t)=>{t.d(g,{d7:()=>o});var e=t(5466);const{Axios:n,AxiosError:o,CanceledError:T,isCancel:v,CancelToken:c,VERSION:i,all:d,Cancel:E,isAxiosError:s,spread:a,toFormData:l,AxiosHeaders:O,HttpStatusCode:u,formToJSON:r,getAdapter:L,mergeConfig:D}=e.default}}]);
